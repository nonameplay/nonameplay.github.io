window.announcekit=(()=>{var t={1244:(t,e,i)=>{"use strict";function s(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}i.d(e,{default:()=>Nt});var n=i(6774);class o{constructor(){s(this,"listeners",void 0),this.listeners={}}trigger(t,e){this.listeners[t]?.forEach((t=>t(e))),this.listeners["*"]?.forEach((i=>i({data:e,name:t})))}on(t,e){this.listeners[t]=this.listeners[t]||[],this.listeners[t].push(e)}off(t,e){this.listeners[t]&&(this.listeners[t]=this.listeners[t].filter((t=>t!=e)))}one(t,e){var i=this;let s;s=function(){i.listeners[t]=i.listeners[t].filter((t=>t!=s)),e(...arguments)},this.listeners[t]=this.listeners[t]||[],this.listeners[t].push(s)}offAll(){this.listeners={}}}class r extends o{get state(){return{}}constructor(t){super(),s(this,"destroyed",!1),s(this,"parent",void 0),this.parent=t,this.parent?.on("state",(t=>this.trigger("state",t)))}watchState(t,e){let i=e(this.state);const s=s=>{let o=e(s);n(i,o)||(i=o,t(o))};return this.on("state",s),t(i),()=>this.off("state",s)}destroy(){this.destroyed||(this.destroyed=!0,this.trigger("destroy"),this.offAll())}}class a extends r{constructor(t){super(t)}get state(){return this.parent.state}get frame(){return this.parent.frame}get conf(){return this.parent.conf}get post(){return this.parent.state.boosterPosts?.[this.type]}}function d(t){const e=t.replace(/#/,"");return[.299*parseInt(e.substr(0,2),16),.587*parseInt(e.substr(2,2),16),.114*parseInt(e.substr(4,2),16)].reduce(((t,e)=>t+e))/255}function l(t){let{color:e="#E01E5A",counter:i=0,reset:s=!1}=t,n=document.querySelector("link[rel~='icon']");n||(n=document.createElement("link"),n.setAttribute("rel","icon"),n.setAttribute("href",`${location.protocol}//${location.host}/favicon.ico`),document.head.appendChild(n));const o=n.getAttribute("data-href")||n.getAttribute("href");if(!o)return;const r=n.classList.contains("badge-init");if(s)return r?n.setAttribute("href",o):void 0;if(r)return;n.classList.add("badge-init"),n.setAttribute("data-href",o);const a=new Image;a.crossOrigin="anonymous";try{a.addEventListener("load",(function(){const t=document.createElement("canvas"),s=t.getContext("2d");t.width=a.width,t.height=a.height,s.beginPath(),s.drawImage(a,0,0,a.width,a.height,0,0,t.width,t.height),s.stroke(),s.beginPath(),s.fillStyle=e,s.strokeStyle=e,s.arc(.7*t.width,.7*t.height,t.height/3.5,0,2*Math.PI),s.fill(),s.stroke(),s.closePath(),s.fillStyle="#fff",s.font=`bold ${a.height/2}px sans-serif`,s.textAlign="center",s.textBaseline="middle",s.fillText(String(i),.7*t.width,.74*t.height),n.classList.add("badge-inserted"),n.setAttribute("href",t.toDataURL())})),a.src=o}catch(t){}}function h(t){return t instanceof Element?t:document.querySelector(t)}const c={};function p(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(c[`badge-shake-scale${t}`])return c[`badge-shake-scale${t}`];let e=`announcekit-badgeanim-${(new Date).getTime()}-${1e4*Math.random()|0}`;return c[`badge-shake-scale${t}`]=e,m(`\n    .${e} {\n      position: relative;\n      animation-name: kf-${e};\n      animation-duration: 2s;\n      animation-timing-function: cubic-bezier(0.15, 0.03, 0.06, 0.39);\n      animation-iteration-count: infinite;\n      animation-fill-mode: forwards;\n      opacity: 1;\n    }\n\n    @keyframes kf-${e} {\n      4%,\n      36% {\n        transform: translateX(-1px) ${t?`scale(${t})`:""}\n      }\n      8%,\n      32% {\n        transform: translateX(1px) ${t?`scale(${t})`:""};\n      }\n      12%,\n      20%,\n      28% {\n        transform: translateX(-2px) ${t?`scale(${t})`:""};\n      }\n      18%,\n      26% {\n        transform: translateX(2px) ${t?`scale(${t})`:""};\n      }\n      36%,\n      100% {\n        transform: translateX(-1px) ${t?`scale(${t})`:""};\n      }\n    }\n  `),e}function u(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#ff4b4b";if(c[`badge-pulse-${t}`])return c[`badge-pulse-${t}`];let e=`announcekit-badgeanim-${(new Date).getTime()}-${1e4*Math.random()|0}`;return c[`badge-pulse-${t}`]=e,m(`\n    .${e} {\n      position: relative;\n      z-index: 1;\n    }\n\n    .${e}:after,\n    .${e}:before {\n      content: "";\n      position: absolute;\n      background: ${t};\n      border-radius: 50%;\n      width: 1.75em;\n      height: 1.75em;\n      animation-name: kf-${e};\n      animation-duration: 2s;\n      animation-timing-function: ease-out;\n      animation-iteration-count: infinite;\n      animation-fill-mode: forwards;\n      left: 50%;\n      top: 50%;\n      margin-top: -0.875em;\n      margin-left: -0.875em;\n      opacity: 0;\n      z-index: -1;\n    }\n\n    .${e}:after {\n      animation-delay: 1s;\n    }\n\n    @keyframes kf-${e} {\n      from {\n        transform: scale(0.7);\n        opacity: 0.6;\n      }\n      to {\n        transform: scale(1.5);\n        opacity: 0;\n      }\n    }\n  `),e}function g(){if(c["badge-minimalist"])return c["badge-minimalist"];let t=`announcekit-minimalist-${(new Date).getTime()}-${1e4*Math.random()|0}`;return c["badge-minimalist"]=t,m(`\n    .${t} {\n      transform: scale(0.5);\n      margin-left: -0.3em;\n      margin-top: -0.8em;\n    }\n\n    .announcekit-widget-floating-badge .announcekit-widget-badge.${t} {\n      margin-left: auto;\n      margin-top: auto;\n    }\n  `),t}function m(t){const e=document.createElement("style");return e.type="text/css",e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t)),document.getElementsByTagName("head")[0].appendChild(e),e}let b,f,w;!function(t){t.WIDGET="widget",t.NOTIFICATION="notification",t.NPS="nps"}(b||(b={})),function(t){t.SEEN_ONCE="seen_once",t.UNTIL_EXPIRE="until_expire"}(f||(f={})),function(t){t.SUBMIT_RESPONSE="submit_response",t.UNTIL_CLOSE="until_close",t.ONLY_ONCE="only_once"}(w||(w={}));const y="announcekit-booster-bar",v=`\n  <span class="${y}-label"></span>\n  <span class="${y}-title"></span>\n  <span class="${y}-cta"></span>\n  <span class="${y}-close">&times;</span>\n`;class x extends a{get type(){return"bar"}constructor(t){super(t),s(this,"bar",void 0),s(this,"label",void 0),s(this,"title",void 0),s(this,"cta",void 0),s(this,"cssid",void 0),s(this,"isNotifyEndUsers",void 0),s(this,"showdelaytimer",void 0),s(this,"hidedelaytimer",void 0),s(this,"_configure",(()=>{this.watchState((t=>{let{disabled:e,sticky:i,bottom:s,color:n,fontSize:o,backgroundColor:r,title:a,url:l,labelName:h,cta:c,showLabel:p,labelColor:u,showunread:g,unread:m,lastRead:w,visibleAt:y,showdelay:v,boostersViewsMap:x}=t;if(e||!a)return this._hide();const $=this.state.boosterPosts.bar.notify_interaction;if(this.isNotifyEndUsers&&$===f.SEEN_ONCE&&x.bar&&x.bar.count>0)return this._hide();if(!this.isNotifyEndUsers&&g&&(!m||new Date(y).getTime()<=Number(w)))return this._hide();document.documentElement.style.setProperty("--announcekit-bar-font-multiplier",o);let k={backgroundColor:`#${r}`,color:`#${n}`};if(k.position=i?"fixed":"absolute",s?k.bottom="0":k.top="0",this.conf.type&&this.conf.type!==b.WIDGET||(h&&p?(this.label.innerText=this.state.locale.$label[h]||h,Object.assign(this.label.style,{backgroundColor:`#${u}`,borderRadius:"3px",padding:"3px 5px",color:d(u)>.5?"black":"white",textTransform:"uppercase",marginRight:"5px",marginLeft:"5px",fontSize:"0.7em",lineHeight:1,display:""})):this.label.style.display="none"),this.title.innerText=this.state.widget.overrideState&&this.state.widget.overrideState.title?this.state.widget.overrideState.title:a,this.state.boosterPosts&&this.state.boosterPosts.bar&&"notification"===this.state.boosterPosts.bar.type){const t=this.state.boosterPosts.bar.redirectUrl;t?(this.bar.href=t,this.bar.target="_blank"):(this.bar.href="#",this.bar.target="_self")}else if(this.state.widget.overrideState){const t=this.state.widget.overrideState.url;t?(this.bar.href=t,this.bar.target="_blank"):(this.bar.href="#",this.bar.target="_self")}else this.bar.href=l,this.bar.target="_blank";let S=screen.width<700;!c||S||this.isNotifyEndUsers?(this.cta.style.display="none",this.cta.innerText=""):(this.cta.innerText=c,this.cta.style.display="block"),Object.assign(this.bar.style,k),this.isNotifyEndUsers&&(v=1),this.conf.landingMode||this.showdelaytimer||(this.state.preview?this._show():this.showdelaytimer=setTimeout(this._show,1e3*v))}),(t=>({disabled:!!t.widget.options["booster-common-disabled"]||!!t.widget.options["booster-bar-disabled"],sticky:!t.widget.options["booster-bar-absolute"],bottom:!!t.widget.options["booster-bar-bottom"],showLabel:!t.widget.options["booster-bar-hide-label"],cta:t.widget.options["booster-bar-cta"],showunread:"unread"==t.widget.options["booster-bar-visibility"],backgroundColor:String(t.widget.options["booster-bar-background-color"]||"5b64af"),color:String(t.widget.options["booster-bar-color"]||"ebf5ff"),fontSize:String(t.widget.options["booster-bar-font-size"]||"1"),showdelay:Number(t.widget.options["booster-bar-show-delay"]),hidedelay:Number(t.widget.options["booster-bar-hide-delay"]),title:t.boosterPosts?.bar?.title,url:t.boosterPosts?.bar?.url,labelName:t.boosterPosts?.bar?.labels?.[0]?.name,labelColor:t.boosterPosts?.bar?.labels?.[0]?.color,visibleAt:t.boosterPosts?.bar?.visible_at||0,overrideState:t.widget.overrideState,notifyState:t.widget.notify,unread:t.ui.unreadCount,lastRead:t.userData?.lastRead||0,boostersViewsMap:t.ui.boostersViewsMap})))})),s(this,"hidetimer",null),s(this,"_show",(()=>{this.hidetimer&&(clearTimeout(this.hidetimer),this.hidetimer=null),document.body.classList.add(`${this.cssid}-body`),this.bar.classList.add(`${this.cssid}-inactive`),setTimeout((()=>{this.bar.classList.remove(`${this.cssid}-inactive`),this.bar.classList.add(`${this.cssid}-active`)}),50);const t=Number(this.state.widget.options["booster-bar-hide-delay"]);t>0&&!this.state.preview&&!this.isNotifyEndUsers&&setTimeout(this._hide,1e3*t),this.parent.sendBeacon({event_type:"widget-booster-show",custom_1:"bar",post_id:Number(this.post?.id)||void 0}),this.parent.trigger("booster-show",{boster:"bar",post_id:this.post?.id,post_title:this.post?.title,post_url:this.post?.url})})),s(this,"show",this._show),s(this,"_hide",(()=>{this.hidetimer||(this.bar.classList.remove(`${this.cssid}-active`),this.bar.classList.add(`${this.cssid}-inactive`),this.hidetimer=setTimeout((()=>{document.body.classList.remove(`${this.cssid}-body`),this.bar.classList.remove(`${this.cssid}-inactive`),this.hidetimer=null}),500))})),s(this,"hide",this._hide),s(this,"_createCSS",(()=>{let t=Math.random().toString(36).substr(2,9).toLowerCase();this.state.preview&&(t="preview");let e=m(`\n      .${y}-${t}-body {\n        position: static;\n      }\n      \n      .${y}-${t}-body:before {\n        margin-top: calc(var(--announcekit-bar-font-multiplier, 1) * 2.5rem);\n        content: ' ';\n        display: block;\n      }\n\n      .${y}-${t} {\n        position: absolute;\n        box-shadow: rgba(0, 0, 0, 0.18) 0px 1px 7px 0px;\n        z-index: 2147483000;\n        display: none;\n        height: calc(var(--announcekit-bar-font-multiplier, 1) * 2.5rem);\n        cursor: pointer;\n        left: 0px;\n        right: 0px;\n        width: 100%;\n        font-size: calc(var(--announcekit-bar-font-multiplier, 1) * 1rem);\n        justify-content: center;\n        align-items: center;\n        text-decoration: none;\n        top: 0;\n        transition-property: opacity transform;\n        transition-duration: .5s;\n        transition-timing-function: cubic-bezier(0, 1, 0.5, 1);\n      }\n\n      .${y}-${t}-inactive {\n        display: flex;\n        transform: translateY(-100%);\n        opacity: 0;\n      }\n\n      span.${y}-cta {\n        background-color: rgba(255,255,2555, 0.15);\n        border-radius: 3px;\n        padding: 3px 5px;\n        margin-left: 5px;\n        font-size: 0.7em;\n        display: none;\n        transition: 0.1s linear all;\n        line-height: 1;\n        font-weight: 600;\n      }\n\n      .${y}-${t} .${y}-title {\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        padding: 0 0.5rem;\n        text-transform: none !important;\n      }\n\n      .${y}-${t}:hover span.${y}-cta {\n        background-color: rgba(255,255,2555, 0.2);\n      }\n\n      .${y}-${t} .${y}-close {\n        cursor: pointer;\n        right: 1rem;\n        position:absolute;\n        opacity: 0;\n        transition: .2s linear opacity;\n      }\n\n      .${y}-${t}:hover .${y}-close {\n        opacity: 1;\n      }\n\n      .${y}-${t}-active {\n        display: flex;\n        transform: translateY(0);\n        opacity: 1;\n      }\n\n      @media screen and (max-width: 700px) {\n        .${y}-${t} .${y}-close {\n            right: 0.75rem;\n            opacity: 1;\n        }\n\n        .${y}-${t} .${y}-title {\n            padding-right: 1.5rem;\n        }\n      }\n    `);return this.on("destroy",(()=>{e.parentElement?.removeChild(e)})),`${y}-${t}`})),this.cssid=this._createCSS(),this.bar=document.createElement("a"),this.bar.className=`${this.cssid} ${y}`,this.isNotifyEndUsers=this.state.boosterPosts&&this.state.boosterPosts.bar&&this.state.boosterPosts.bar.type===b.NOTIFICATION,t.state.boosterPosts&&t.state.boosterPosts.bar&&"notification"===t.state.boosterPosts.bar.type?(this.bar.href="#",this.bar.target="_self"):(this.bar.href=t.state.feed.url,this.bar.target="_blank"),this.bar.innerHTML=v,this.label=this.bar.querySelector(`.${y}-label`),this.title=this.bar.querySelector(`.${y}-title`),this.cta=this.bar.querySelector(`.${y}-cta`),document.body.appendChild(this.bar),this.bar.addEventListener("click",(t=>{if(t.target.classList.contains(`${y}-close`))return t.preventDefault(),t.stopImmediatePropagation(),void(this.state.preview||(this._hide(),this.conf.landingMode||this.parent?.setRead()));let e=this.state.widget.options["booster-bar-action"];"widget"==e||"widget-single-post"==e?(t.preventDefault(),this.parent?.open(),this.parent?.showPost(this.post.id,{singular:"widget-single-post"==e})):this.parent?.setRead(),this.parent.sendBeacon({event_type:"widget-booster-click",custom_1:"bar",post_id:Number(this.post?.id)||void 0}),this.parent.trigger("booster-click",{boster:"bar",post_id:this.post?.id,post_title:this.post?.title,post_url:this.post?.url})})),this.on("destroy",(()=>{document.body.removeChild(this.bar)})),this._configure()}}const $="announcekit-booster-modal",k=`\n<div class="${$}-header">\n  <span class="${$}-title"></span>\n  <span class="${$}-close">&times;</span>\n</div>\n<div class="${$}-body"></div>\n<div class="${$}-footer">\n<div>\n`,S="announcekit-booster-modal",_=`\n  <div class="${S}-header">\n    <span class="${S}-label"></span>\n    <span class="${S}-title"></span>\n    <span class="${S}-close">&times;</span>\n  </div>\n  <div class="${S}-body"></div>\n  <div class="${S}-footer">\n    <a href="#" target="_blank" class="${S}-referer-link">${C="⚡️ by AnnounceKit","utf-8"==document.characterSet.toLowerCase()?C:C.replace("⚡️","Powered")}</a>\n  <div>\n`;var C;class O extends a{get type(){return"modal"}constructor(t){super(t),s(this,"modal",void 0),s(this,"label",void 0),s(this,"title",void 0),s(this,"body",void 0),s(this,"footer",void 0),s(this,"reflink",void 0),s(this,"isTypeNotify",void 0),s(this,"isNotifyEndUsers",void 0),s(this,"cssid",void 0),s(this,"showdelaytimer",void 0),s(this,"hidedelaytimer",void 0),s(this,"_configure",(()=>{this.watchState((t=>{let{disabled:e,color:i,backgroundColor:s,title:n,summary:o,url:r,labelName:a,fontSize:d,showLabel:l,labelColor:h,unread:c,showdelay:p,position:u,lastRead:g,visibleAt:b,boostersViewsMap:w}=t;if(e||!n)return this._hide();const y=this.state.boosterPosts.modal.notify_interaction;if(this.isNotifyEndUsers&&y===f.SEEN_ONCE&&w.modal&&w.modal.count>0)return this._hide();if(!this.isNotifyEndUsers&&(!this.conf.landingMode&&new Date(b).getTime()<=Number(g)||!c))return this._hide();document.documentElement.style.setProperty("--announcekit-modal-font-multiplier",d),this.state.project?.is_whitelabel&&(this.footer.style.display="none");let v={backgroundColor:`#${s}`,color:`#${i}`};if(this.isTypeNotify||(a&&l?(this.label.innerText=this.state.locale.$label[a]||a,Object.assign(this.label.style,{backgroundColor:`#${h}20`,borderRadius:"3px",padding:"0.2em 0.5em",color:`#${h}`,textTransform:"uppercase",marginRight:"5px",fontSize:"0.65em",fontWeight:"500",visibility:""})):this.label.style.display="none"),this.title.innerText=this.state.widget.overrideState&&this.state.widget.overrideState.title?this.state.widget.overrideState.title:n,this.body.innerHTML=this.state.widget.overrideState&&this.state.widget.overrideState.summary?this.state.widget.overrideState.summary:o,this.state.boosterPosts&&this.state.boosterPosts.modal&&"notification"===this.state.boosterPosts.modal.type){const t=this.state.boosterPosts.modal.redirectUrl;t?(this.modal.href=t,this.modal.target="_blank"):(this.modal.href="#",this.modal.target="_self")}else if(this.state.widget.overrideState){const t=this.state.widget.overrideState.url;t?(this.modal.href=t,this.modal.target="_blank"):(this.modal.href="#",this.modal.target="_self")}else this.modal.href=r,this.modal.target="_blank";const x={left:"0",right:"0",transform:""};switch(screen.width<700?"mobile":u){case"mobile":delete x.left,delete x.right;break;case"bottomcenter":x.left="50%",x.transform="translate(-50%)",x.right=this.isTypeNotify?"auto":"1em",this.isTypeNotify||delete x.right;break;case"bottomright":x.right="1em",x.left="auto";break;default:x.left="1em",x.right=this.isTypeNotify?"auto":"1em",this.isTypeNotify||delete x.right}if(Object.assign(this.modal.style,x,v),this.isNotifyEndUsers&&(p=1),this.conf.landingMode||this.showdelaytimer||(this.state.preview?this._show():this.showdelaytimer=setTimeout(this._show,1e3*p)),!this.state.widget.options)return;let $="";if(this.state.widget.options["booster-modal-title"]&&($+=`\n          .${S}-title {\n            color: #${this.state.widget.options["booster-modal-title"]};\n          }\n        `),this.state.widget.options["booster-modal-body"]&&($+=`\n          .${S}-body {\n            color: #${this.state.widget.options["booster-modal-body"]};\n          }\n        `),this.state.widget.options["booster-modal-shadow-color"]&&($+=`\n          .${S} {\n            box-shadow: 0 1px 7px 0 #${this.state.widget.options["booster-modal-shadow-color"]};\n          }\n        `),this.state.widget.options["booster-modal-border-radius"]&&($+=`\n          .${S} {\n            border-radius: calc(0.5 * ${this.state.widget.options["booster-modal-border-radius"]}em);\n          }\n        `),this.state.widget.options["booster-modal-shadow-size"]&&($+=`\n          .${S} {\n            box-shadow: 0 0px ${this.state.widget.options["booster-modal-shadow-size"]}px 0 #${this.state.widget.options["booster-modal-shadow-color"]||"0000002e"};\n          }\n        `),!$)return;const k=m($);this.on("destroy",(()=>{k.parentElement?.removeChild(k)}))}),(t=>({disabled:!!t.widget.options["booster-common-disabled"]||!!t.widget.options["booster-modal-disabled"],sticky:!t.widget.options["booster-modal-absolute"],bottom:!!t.widget.options["booster-modal-bottom"],showLabel:!t.widget.options["booster-modal-hide-label"],backgroundColor:String(t.widget.options["booster-modal-background-color"]||"ffffff"),color:String(t.widget.options["booster-modal-color"]||"323232"),titleColor:String(t.widget.options["booster-modal-title"]||String(t.widget.options["booster-modal-color"]||"323232")),bodyColor:String(t.widget.options["booster-modal-body"]||String(t.widget.options["booster-modal-color"]||"323232")),shadowColor:String(t.widget.options["booster-modal-shadow-color"]||"#0000002e"),borderRaduis:String(t.widget.options["booster-modal-border-radius"]||"0.5"),shadowSize:String(t.widget.options["booster-modal-shadow-size"]||"7"),fontSize:String(t.widget.options["booster-modal-font-size"]||"1"),showdelay:Number(t.widget.options["booster-modal-show-delay"]||1),hidedelay:Number(t.widget.options["booster-modal-hide-delay"]||15),position:t.widget.options["booster-modal-position"],title:t.boosterPosts?.modal?.title,url:t.boosterPosts?.modal?.url,summary:t.boosterPosts?.modal?.html_summary,labelName:t.boosterPosts?.modal?.labels?.[0]?.name,labelColor:t.boosterPosts?.modal?.labels?.[0]?.color,visibleAt:t.boosterPosts?.modal?.visible_at||0,overrideState:t.widget.overrideState,unread:t.ui.unreadCount,lastRead:t.userData?.lastRead||0,boostersViewsMap:t.ui.boostersViewsMap})))})),s(this,"hidetimer",null),s(this,"_show",(()=>{this.hidetimer&&(clearTimeout(this.hidetimer),this.hidetimer=null),this.modal.classList.add(`${this.cssid}-inactive`),setTimeout((()=>{this.modal.classList.add(`${this.cssid}-active`),this.modal.classList.remove(`${this.cssid}-inactive`)}),50);const t=Number(this.state.widget.options["booster-modal-hide-delay"]||15);t>0&&!this.state.preview&&!this.isNotifyEndUsers&&setTimeout(this._hide,1e3*t),this.parent.sendBeacon({event_type:"widget-booster-show",custom_1:"modal",post_id:Number(this.post?.id)||void 0}),this.parent.trigger("booster-show",{boster:"modal",post_id:this.post?.id,post_title:this.post?.title,post_url:this.post?.url})})),s(this,"show",this._show),s(this,"_hide",(()=>{this.hidetimer||(this.modal.classList.remove(`${this.cssid}-active`),this.modal.classList.add(`${this.cssid}-inactive`),this.hidetimer=setTimeout((()=>{this.modal.classList.remove(`${this.cssid}-inactive`),this.hidetimer=null}),500))})),s(this,"hide",this._hide),s(this,"_createCSS",(()=>{let t=Math.random().toString(36).substr(2,9).toLowerCase();this.state.preview&&(t="preview");let e=`\n    .${S}-${t} {\n      box-sizing: border-box;\n      display: none;\n      flex-direction: column;\n      box-shadow: 0 1px 7px 0 rgba(0,0,0,0.18);\n      z-index: 2147484000;\n      cursor: pointer;\n      position: fixed;\n      bottom: 1em;\n      left: 1em;\n      font-size: calc(var(--announcekit-modal-font-multiplier, 1) * 1em);\n      padding: 0.5em;\n      border-radius: ${this.isTypeNotify?"16px":"4px"};\n      max-width: min(calc(100vw - 2em), ${this.isTypeNotify?"264px":"400px"});\n      transition-property: opacity, transform;\n      transition-duration: .5s;\n      transition-timing-function: cubic-bezier(0, 1, 0.5, 1);\n      text-decoration: none;\n    }\n\n    .${S}-${t} .${S}-header {\n      display: flex;\n      flex-direction: row;\n      align-items: center;\n      margin-bottom: 0.5em;\n    }\n\n    .${S}-${t} .${S}-close {\n      margin-left: auto;\n      padding: 5px 10px 5px 5px;\n      opacity: 0;\n      transition: .2s linear opacity;\n      color: ${this.isTypeNotify?"#D9E8FF":"black"};\n    }\n\n    .${S}-${t} .${S}-title {\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      text-transform: none !important;\n    }\n\n    .${S}-${t}:hover .${S}-close {\n      opacity: 1;\n    }\n\n    .${S}-${t} .${S}-footer {\n      display: flex;\n      flex-direction: row;\n      justify-content: flex-end;\n      margin-top: 0.5em;\n      text-decoration: none;\n      font-size: 0.5em;\n    }\n\n    .${S}-${t} .${S}-referer-link {\n      text-decoration: none;\n      color: inherit;\n    }\n\n    .${S}-${t} .${S}-body {\n      line-height: 1.5em;\n      font-size: 0.8em;\n    }\n\n    .${S}-${t}-inactive {\n      display: flex;\n      transform: translateY(100%);\n      opacity: 0;\n    }\n\n    .${S}-${t}-active {\n      display: flex;\n      transform: translateY(0);\n      opacity: 1;\n    }\n  `;this.isTypeNotify&&(e+=`\n      .announcekit-booster-modal-body p {\n        margin-block-start: 0em;\n        margin-block-end: 0em;\n      }\n\n      .announcekit-booster-modal-body img {\n        max-width: 100% !important;\n        max-height: 100% !important;\n        \n        margin: 5px auto;\n        display: block;\n        float: none;\n        vertical-align: top;\n      }\n\n      .fr-fir {\n        margin-right: 0;\n        text-align: right;\n      }\n      .fr-fil {\n        margin-left: 0;\n        text-align: left;\n      }\n\n      .${S}-title {\n        font-style: normal;\n        font-weight: 600;\n        color: #202642;\n        font-size: calc(var(--announcekit-modal-font-multiplier, 1) * 1em);\n      }\n      \n      .${S}-body {\n        font-style: normal;\n        font-weight: 500;\n        font-size: 12px;\n        line-height: 150%;\n        color: #667D9F;\n        word-wrap: break-word\n      }\n      `);let i=m(e);return this.on("destroy",(()=>{i.parentElement?.removeChild(i)})),`${S}-${t}`})),this.isNotifyEndUsers=this.state.boosterPosts&&this.state.boosterPosts.modal&&this.state.boosterPosts.modal.type===b.NOTIFICATION,this.isTypeNotify=t.conf.type&&t.conf.type===b.NOTIFICATION||this.isNotifyEndUsers,this.cssid=this._createCSS(),this.modal=document.createElement("a"),this.modal.className=`${this.cssid} ${S}`,this.modal.target="_blank",this.modal.href=t.state.feed.url,this.modal.innerHTML=this.isTypeNotify?k:_,this.label=this.modal.querySelector(`.${S}-label`),this.title=this.modal.querySelector(`.${S}-title`),this.body=this.modal.querySelector(`.${S}-body`),this.footer=this.modal.querySelector(`.${S}-footer`),this.reflink=this.modal.querySelector(`.${S}-referer-link`),document.body.appendChild(this.modal),this.modal.addEventListener("click",(t=>{if(t.target.classList.contains(`${S}-close`))return t.preventDefault(),t.stopImmediatePropagation(),void(this.state.preview||(this._hide(),this.conf.landingMode||this.parent?.setRead()));let e=this.state.widget.options["booster-modal-action"];"widget"==e||"widget-single-post"==e?(t.preventDefault(),this.parent?.open(),this.parent?.showPost(this.post.id,{singular:"widget-single-post"==e})):this.conf.landingMode||this.parent?.setRead(),this.parent.sendBeacon({event_type:"widget-booster-click",custom_1:"modal",post_id:Number(this.post?.id)||void 0}),this.parent.trigger("booster-click",{boster:"modal",post_id:this.post?.id,post_title:this.post?.title,post_url:this.post?.url})})),this.on("destroy",(()=>{document.body.removeChild(this.modal)})),this._configure()}}const E=new class{async submitFeedback(t,e,i,s,n,o){return await async function(t,e,i){const s={"content-type":"application/json"};i&&(s["x-csrf-token"]=i);const n=await fetch("https://announcekit.app/gq/v2",{method:"POST",body:JSON.stringify({query:"\n        mutation feedbackToNps ($post_id: ID!, $feedback: String, $score: Int!, $user_id: String, $fields: JSONObject) {\n          feedbackToNps(post_id: $post_id, feedback: $feedback, score: $score, user_id: $user_id, fields: $fields) { feedback, score, post_id }\n        }\n      ",variables:e}),headers:s}),o=await n.json();if(o.errors)throw new Error(o.errors.map((t=>t.message)).join(", "));return o.data}(0,{post_id:t,feedback:e,score:i,user_id:s,fields:n},o)}getPosition(t,e){const i={left:"0",right:"0",transform:""};switch(e<700?"mobile":t){case"mobile":case"bottomcenter":i.left="50%",i.transform="translate(-50%)",i.right="auto";break;case"bottomright":i.right="1em",i.left="auto";break;default:i.left="1em",i.right="auto"}return i}npsInteractionSubmit(t,e,i){return void 0!==e&&(t===w.ONLY_ONCE&&void 0!==i&&i>1||t===w.SUBMIT_RESPONSE&&void 0!==e.score||!(t!==w.UNTIL_CLOSE||!e.close))}},T=new class{createCSS(t,e,i){let s=`\n    .${t}-${e} {\n      box-sizing: border-box;\n      display: none;\n      flex-direction: column;\n      z-index: 2147484000;\n      cursor: pointer;\n      position: fixed;\n      bottom: 1em;\n      left: 1em;\n      font-size: calc(var(--announcekit-nps-font-multiplier, 1) * 1em);\n      transition-property: opacity, transform;\n      transition-duration: .5s;\n      transition-timing-function: cubic-bezier(0, 1, 0.5, 1);\n      text-decoration: none;\n      width: 478px;\n      height: 204px;\n      align-items: center;\n    }\n\n    .${t}-${e} .${t}-header {\n      display: flex;\n      flex-direction: row;\n      align-items: center;\n      margin-bottom: 0.5em;\n      width: 100%;\n      justify-content: center;\n    }\n    .${t}-${e} .${t}-container {\n      box-shadow: 0px 18.494998931884766px 47.45295333862305px 0px rgba(99, 116, 165, 0.20);\n      display: flex;\n      justify-content: center;\n      padding: 24px;\n      flex-direction: column;\n      align-items: center;\n      gap: 16px;\n      border-radius: 16px;\n      background-color: #FFFFFF;\n      cursor: auto;\n      width: 430px;\n      height: 182px;\n      padding: 24px;\n    }\n\n    .${t}-${e} .${t}-close-container {\n      display: flex;\n      padding: 0px 26.8px;\n      flex-direction: column;\n      justify-content: center;\n      align-items: flex-end;\n      align-self: stretch;\n      width: 421px;\n      height: 21px;\n      cursor: auto;\n    }\n\n    .${t}-${e} .${t}-close {\n      box-shadow: 0px 18.494998931884766px 47.45295333862305px 0px rgba(99, 116, 165, 0.20);\n      display: flex;\n      padding: 9px;\n      flex-direction: column;\n      justify-content: center;\n      align-items: center;\n      gap: 9px;\n      border-radius: 5.4px 5.4px 0px 0px;\n      background: #FFF;\n      background-color: #FFFFFF;\n      cursor: pointer;\n    }\n\n    .${t}-${e} .${t}-title {\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: pre-line\n    }\n   \n\n    .${t}-${e} .${t}-footer {\n      display: flex;\n      padding: 0px 14.4px;\n      justify-content: center;\n      align-items: center;\n      gap: 7.2px;\n    }\n\n    .${t}-${e} .${t}-referer-link {\n      color: var(--secondary-font-color, #667D9F);\n      font-feature-settings: 'clig' off, 'liga' off;\n      font-family: inherit;\n      font-size: 11.9px;\n      font-style: normal;\n      font-weight: 400;\n      line-height: normal;\n      text-decoration: none;\n      display: flex;\n      padding: 0px 14.4px;\n      justify-content: center;\n      align-items: center;\n      gap: 7.2px;\n      fill: #667D9F;\n    }\n\n    .${t}-${e} .${t}-referer-link:hover {\n      color: #3778FF;\n      fill: #3778FF !important;\n    }\n   \n    .${t}-${e} .${t}-body {\n      line-height: 1.5em;\n      font-size: 0.8em;\n    }\n\n    .${t}-${e}-inactive {\n      display: flex;\n      transform: translateY(100%);\n      opacity: 0;\n    }\n\n    .${t}-${e}-active {\n      display: flex;\n      transform: translateY(0);\n      opacity: 1;\n    }\n  `;return s+=`\n      .announcekit-booster-nps-body p {\n        margin-block-start: 0em;\n        margin-block-end: 0em;\n      }\n\n      .${t}-title {\n        color: #000;\n        text-align: center;\n        font-size: 12px;\n        font-style: normal;\n        font-weight: 600;\n        line-height: normal;\n      }\n      \n      .${t}-body {\n        font-style: normal;\n        font-weight: 500;\n        font-size: 12px;\n        line-height: 150%;\n        color: #667D9F;\n        word-wrap: break-word;\n        width: 90% !important;\n        \n      }\n\n      .${t}-body .${t}-votes {\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        align-items: center;\n        gap: 12px;\n        width: 100% !important;\n      }\n\n      .${t}-body .${t}-feedback {\n        gap: 16px;\n      }\n\n      .${t}-body .${t}-feedback-submit-container {\n        display: flex;\n        justify-content: flex-end;\n        align-items: center;\n        gap: 10px;\n        align-self: stretch;\n      }\n\n      .${t}-body .${t}-feedback-submit-container {\n        display: flex;\n        justify-content: flex-end;\n        align-items: center;\n        gap: 10px;\n        align-self: stretch;\n      }\n      .${t}-body .${t}-thanks {\n        width: 430px;\n        height: 60px;\n      }\n\n      .${t}-body .${t}-thanks p {\n        color: var(--primary-main, #3778FF);\n        text-align: center;\n        font-feature-settings: 'clig' off, 'liga' off;\n        font-family: inherit;\n        font-size: 13.7px;\n        font-style: normal;\n        font-weight: 600;\n        line-height: normal;\n        width: 430.428px;\n      }\n\n      .${t}-body .${t}-feedback-submit-container button:nth-child(1) {\n        display: flex;\n        height: 32px;\n        padding: 4px 16px;\n        flex-direction: column;\n        justify-content: center;\n        align-items: flex-start;\n        gap: 10px;\n        border-radius: 4px;\n        box-shadow: 0px 1px 2px 0px #FFF;\n        font-family: inherit;\n        font-size: 13px;\n        font-style: normal;\n        font-weight: 600;\n        line-height: 24px;\n        border: none;\n        background-color: white;\n        cursor: pointer;\n      }\n      .${t}-body .${t}-feedback-submit-container button:nth-child(2) {\n        display: flex;\n        padding: 4px 16px;\n        flex-direction: column;\n        justify-content: center;\n        align-items: flex-start;\n        gap: 10px;\n        border-radius: 4px;\n        border: 1px solid var(--primary-main, #3778FF);\n        box-shadow: 0px 1px 2px 0px rgba(0, 0, 0, 0.14);\n        color: var(--primary-main, #3778FF);\n        font-family: inherit;\n        font-size: 13px;\n        font-style: normal;\n        font-weight: 600;\n        line-height: 24px;\n        background-color: white;\n        cursor: pointer;\n      }\n\n      .${t}-body .${t}-feedback .${t}-feedback-input-container textarea  {\n        display: flex;\n        justify-content: center;\n        align-items: flex-start;\n        gap: 7px;\n        align-self: stretch;\n        resize: none;\n        display: flex;\n        height: inherit;\n        padding: 14.4px;\n        flex-direction: column;\n        align-items: flex-start;\n        gap: 9px;\n        flex: 1 0 0;\n        border-radius: 3.6px;\n        border: 0.9px solid var(--input-border, #C5DCFF);\n        font-feature-settings: 'clig' off, 'liga' off;\n        font-family: inherit;\n        font-size: 10.8px;\n        font-style: normal;\n        font-weight: 500;\n        line-height: 21.6px;\n        width:400px\n      }\n      .${t}-body .${t}-feedback .${t}-feedback-input-container textarea:focus {\n        outline: none !important;\n      }\n\n      .${t}-body .${t}-votes-btns-container {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        gap: 6px;\n        align-self: stretch;\n        width: 100% !important;\n      }\n\n      .${t}-body .${t}-votes-btn {\n        color: #3778FF;\n        display: flex;\n        width: 30px !important;\n        flex-direction: column;\n        justify-content: center;\n        align-items: center;\n        gap: 10px;\n        border-radius: 4px;\n        border: 1px solid var(--primary-main, #3778FF);\n        height: 26px !important;\n        cursor: pointer;\n      }\n      .${t}-body .${t}-votes-btn:hover, .${t}-votes-btn-active {\n        color: white !important;\n        border-color: white !important;\n      }\n\n      .${t}-body .${t}-votes-btns-container button:nth-child(n+1):nth-child(-n+7):hover, .${t}-body .${t}-votes-btns-container .${t}-votes-btn-active:nth-child(n+1):nth-child(-n+7)  {\n        background: #FF5353;\n      }\n\n      .${t}-body .${t}-votes-btns-container button:nth-child(n+8):nth-child(-n+9):hover, .${t}-body .${t}-votes-btns-container .${t}-votes-btn-active:nth-child(n+8):nth-child(-n+9) {\n        background: #FF9E44;\n      }\n\n      .${t}-body .${t}-votes-btns-container button:nth-child(n+10):nth-child(-n+11):hover, .${t}-body .${t}-votes-btns-container .${t}-votes-btn-active:nth-child(n+10):nth-child(-n+11) {\n        background: #2BD65A;\n      }\n\n      .${t}-body .${t}-votes-impression {\n        display: flex;\n        width: 100%;\n        height: 8px;\n        justify-content: space-between;\n        align-items: flex-start;\n      }\n      .${t}-body .${t}-votes-impression span {\n        font-size: 11px;\n        font-style: normal;\n        font-weight: 400;\n        line-height: normal;\n      }\n\n      @media only screen and (max-width: 768px) {\n        .${t}-close-container {\n          width: 81% !important;\n        }\n\n        .${t}-container {\n          width: 325px !important;\n        }\n\n        .${t}-body .${t}-feedback .${t}-feedback-input-container textarea {\n          width: 270px;\n        }\n      }\n\n      `,s}asignedColor(t,e){return{backgroundColor:`#${t}`,color:`#${e}`}}getCustomStyle(t,e,i,s,n,o,r,a){let d=`\n      .${a}-container {\n        background-color: #${e} !important;\n      }\n\n      .${a}-close {\n        background-color: #${e} !important;\n      }\n\n      .${a}-title{\n        color: #${t};\n      }\n\n      .${a}-votes-impression span {\n        color: #${i};\n      }\n\n      .${a}-referer-link {\n        color: #${i} !important;\n      }\n      .${a}-body .${a}-feedback-submit-container button:nth-child(1) {\n        color: #${i};\n      }\n\n      .${a}-votes-btns-container button {\n        color: #${s} !important;\n        border: 1px solid var(--primary-main, #${n}) !important;\n        background-color: #${e};\n      }\n\n      .${a}-body .${a}-feedback-submit-container button:nth-child(1) {\n        background-color: #${e};\n        box-shadow: none;\n      }\n\n      .${a}-body .${a}-feedback-submit-container button:nth-child(2) {\n        color: #${s} !important;\n        border: 1px solid var(--primary-main, #${n}) !important;\n        background-color: #${e} !important;\n      }\n\n      .${a}-feedback-input-container textarea  {\n        background-color: #${e} !important;\n      }\n\n      .${a}-feedback-input-container textarea::placeholder  {\n        color: #${i};\n      }\n      \n      .${a}-thanks p {\n        color: #${s} !important;\n      }\n    `;return 0!==r&&(d+=`\n      .${a}-container {\n        box-shadow: 0 0px ${r}px 0 #${o||"6374A5"} !important;\n      }\n\n      .${a}-close {\n        box-shadow: 0 0px ${r}px 0 #${o||"6374A5"} !important;\n      }\n    `),d}};let P;!function(t){t.MAIN="MAIN",t.FEEDBACK="FEEDBACK",t.THANKS="THANKS"}(P||(P={}));const F="announcekit-booster-nps",L={},N=`\n<div class="${F}-close-container">\n  <div class="${F}-close ${F}-close-clicked"><svg class="${F}-close-clicked" width="17" height="17" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M12.5033 12.5415L15.4537 9.59105C15.5734 9.47061 15.6406 9.30769 15.6406 9.13788C15.6406 8.96806 15.5734 8.80514 15.4537 8.68471C15.3939 8.62446 15.3229 8.57664 15.2445 8.544C15.1662 8.51137 15.0822 8.49457 14.9973 8.49457C14.9125 8.49457 14.8284 8.51137 14.7501 8.544C14.6718 8.57664 14.6007 8.62446 14.5409 8.68471L11.5969 11.6416C11.5372 11.7018 11.4661 11.7496 11.3878 11.7823C11.3094 11.8149 11.2254 11.8317 11.1406 11.8317C11.0557 11.8317 10.9717 11.8149 10.8933 11.7823C10.815 11.7496 10.7439 11.7018 10.6842 11.6416L7.74017 8.68471C7.61998 8.56366 7.45663 8.49533 7.28606 8.49472C7.11548 8.49412 6.95165 8.5613 6.83061 8.68149C6.70957 8.80168 6.64123 8.96503 6.64063 9.1356C6.64003 9.30618 6.70721 9.47001 6.8274 9.59105L9.77783 12.5415C10.1394 12.9026 10.6295 13.1054 11.1406 13.1054C11.6516 13.1054 12.1417 12.9026 12.5033 12.5415Z" fill="black"/>\n</svg>\n</div>\n</div>\n<div class="${F}-container">\n  <div class="${F}-header">\n    <span class="${F}-title"></span>\n  </div>\n  <div class="${F}-body"></div>\n  <div class="${F}-footer">\n    <a href="https://announcekit.app/?utm_source=nps" target="_blank" class="${F}-referer-link"><span>Powered by </span> <svg width="13" height="13" viewBox="0 0 13 13" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M6.56991 5.95236H7.93502C8.27342 5.95236 8.54903 6.20184 8.54903 6.50834C8.54903 6.81483 8.27342 7.06413 7.93502 7.06413H6.56991C6.23131 7.06413 5.9559 6.81483 5.9559 6.50834C5.9559 6.20184 6.23131 5.95236 6.56991 5.95236ZM4.90772 4.7577L5.873 3.79242C6.11228 3.55313 6.48358 3.53465 6.70031 3.75138C6.91703 3.9681 6.89842 4.33927 6.65913 4.57855L5.69385 5.54383C5.45443 5.78326 5.08341 5.80173 4.86668 5.585C4.64996 5.36828 4.66829 4.99712 4.90772 4.7577ZM5.69385 7.4983L6.65913 8.46358C6.89842 8.70286 6.9169 9.07416 6.70018 9.29088C6.48345 9.50761 6.11228 9.489 5.873 9.24971L4.90772 8.28443C4.66829 8.04501 4.64983 7.67398 4.86655 7.45726C5.08328 7.24054 5.45443 7.25887 5.69385 7.4983ZM6.29587 0.0229492H6.34034C6.82714 0.0248043 7.31682 0.0835489 7.80198 0.200214C9.43798 0.594318 10.8226 1.60287 11.701 3.03995C12.3209 4.05262 12.641 5.21762 12.626 6.40839C12.5745 9.83536 9.67757 12.6229 6.16867 12.6229H0.772031C0.523174 12.6229 0.320218 12.4199 0.320218 12.1705C0.320218 12.0914 0.342038 12.012 0.382794 11.9415L0.954198 10.9727C1.20614 10.5562 1.20614 10.0407 0.955018 9.62574C0.34574 8.62873 0.0308118 7.50804 0.0264893 6.36799V6.31996C0.0283418 5.8329 0.0870065 5.34253 0.20351 4.85712C0.597277 3.21886 1.60423 1.83249 3.03974 0.95297C4.0362 0.342232 5.15657 0.0268655 6.29587 0.0229492ZM1.73123 11.441L1.56389 11.7205H6.16867C9.18912 11.7205 11.6806 9.33243 11.7226 6.39684C11.7434 4.88041 11.1226 3.41447 10.0193 2.37459C8.91433 1.32873 7.41069 0.8025 5.89429 0.930914C4.4559 1.04469 3.14924 1.71232 2.21392 2.81054C1.27901 3.90855 0.826576 5.30543 0.94061 6.74457C1.00751 7.59379 1.28066 8.42879 1.73041 9.15928C2.15382 9.86381 2.15381 10.7378 1.73123 11.441Z" fill/>\n</svg> <span>announcekit</span></a>\n  </div>\n</div>\n`;function j(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function A(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?j(Object(i),!0).forEach((function(e){s(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):j(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}const M=(t,e)=>{t(e)},z=new class{votePage(t,e,i,s,n){const o=document.createElement("div");o.className=`${F}-votes`;const r=document.createElement("div");r.className=`${F}-votes-btns-container`;for(let o=0;o<11;o++){const a=document.createElement("button");a.innerText=`${o}`,a.className=`${F}-votes-btn`,i?.npsScore&&i.npsScore===o&&(a.className+=` ${F}-votes-btn-active`),a.onclick=r=>{e(A(A({},i),{},{npsScore:o})),t(P.FEEDBACK),n&&s()},r.appendChild(a)}o.appendChild(r);const a=document.createElement("div");a.className=`${F}-votes-impression`;const d=document.createElement("span");d.innerText="Very likely";const l=document.createElement("span");return l.innerText="Not likely",a.appendChild(l),a.appendChild(d),o.appendChild(a),o}feedbackPage(t,e,i,s,n){const o=document.createElement("div");o.classList.add(`${F}-votes`,`${F}-feedback`);const r=document.createElement("div");r.className=`${F}-feedback-input-container`;const a=document.createElement("textarea");i.npsFeedback&&(a.innerText=i.npsFeedback),a.placeholder="Please Type Here",a.onchange=t=>{e(A(A({},i),{},{npsFeedback:t.target.value}))},r.appendChild(a);const d=document.createElement("div");d.className=`${F}-feedback-submit-container`;const l=document.createElement("button");l.innerText="Submit Feedback",l.onclick=e=>{s(),M(t,P.THANKS)};const h=document.createElement("button");return h.innerText="Back",h.onclick=e=>{M(t,P.MAIN)},d.appendChild(h),d.appendChild(l),o.appendChild(r),o.appendChild(d),o}thanksPage(t,e,i,s,n){const o=document.createElement("div");o.classList.add(`${F}-votes`,`${F}-thanks`);const r=document.createElement("span");r.innerHTML='<svg width="34" height="33" viewBox="0 0 34 33" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M20.65 13.9393C20.2953 13.5841 19.7194 13.5843 19.3642 13.9393L15.4941 18.2277L13.9532 16.6868C13.5981 16.3317 13.0224 16.3317 12.6672 16.6868C12.3121 17.042 12.3121 17.6176 12.6672 17.9728L14.851 20.1566C15.0285 20.334 15.2612 20.423 15.4939 20.423C15.7266 20.423 15.9595 20.3343 16.137 20.1566L20.65 15.2252C21.0051 14.8703 21.0051 14.2944 20.65 13.9393Z" fill="#3778FF"/>\n<rect x="1.20093" y="0.972992" width="31.4" height="31.4" rx="15.7" stroke="#3778FF"/>\n</svg>\n';const a=document.createElement("p");return a.innerText="Thank you for answering this survey",o.appendChild(r),o.appendChild(a),o}votesBodyElement(t,e,i,s,n,o){const r={};return r[P.MAIN]=this.votePage,r[P.FEEDBACK]=this.feedbackPage,r[P.THANKS]=this.thanksPage,r[e](t,i,s,n,o)}NpsTemplate(){return N}};function I(){let t=function(){let t,e,i=navigator.userAgent;for(let e=0;e<R.length;e++)if(R[e][1].test(i)){t=R[e][0];break}for(let t=0;t<D.length;t++)if(D[t][1].test(i)){e=D[t][0];break}return{agent:t,os:e}}();return{$url:window.location.href,$os:t.os,$agent:t.agent}}const R=[["AOL",/AOLShield\/([0-9\._]+)/],["Edge",/Edge\/([0-9\._]+)/],["Yandex",/YaBrowser\/([0-9\._]+)/],["Vivaldi",/Vivaldi\/([0-9\.]+)/],["Kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["Samsung",/SamsungBrowser\/([0-9\.]+)/],["Silk",/\bSilk\/([0-9._-]+)\b/],["MIUI",/MiuiBrowser\/([0-9\.]+)$/],["Beaker",/BeakerBrowser\/([0-9\.]+)/],["Chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["Firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["Opera Mini",/Opera Mini.*Version\/([0-9\.]+)/],["Opera",/Opera\/([0-9\.]+)(?:\s|$)/],["Opera",/OPR\/([0-9\.]+)(:?\s|$)/],["IE",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["IE",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["IE",/MSIE\s(7\.0)/],["Android",/Android\s([0-9\.]+)/],["Mobile Safari",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["Safari",/Version\/([0-9\._]+).*Safari/],["Facebook",/FBAV\/([0-9\.]+)/],["Instagram",/Instagram\s([0-9\.]+)/],["iOS WebView",/AppleWebKit\/([0-9\.]+).*Mobile/],["iOS WebView",/AppleWebKit\/([0-9\.]+).*Gecko\)$/]],D=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/]];function B(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function W(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?B(Object(i),!0).forEach((function(e){s(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):B(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}const H=F;class U extends a{get type(){return"nps"}constructor(t){super(t),s(this,"nps",void 0),s(this,"label",void 0),s(this,"title",void 0),s(this,"body",void 0),s(this,"footer",void 0),s(this,"cssid",void 0),s(this,"showdelaytimer",void 0),s(this,"hidedelaytimer",void 0),s(this,"npsFormSteps",P.MAIN),s(this,"npsFormStepsCurrent",P.MAIN),s(this,"npsFeedback",void 0),s(this,"openCount",void 0),s(this,"skipReasonPreviewer",void 0),s(this,"hideIt",void 0),s(this,"npsState",void 0),s(this,"NPS_STATE_KEY",void 0),s(this,"_configure",(()=>{this.watchState((t=>{let{disabled:e,titleColor:i,backgroundColor:s,bodyColor:n,buttonTextColor:o,buttonBorderColor:r,shadowColor:a,shadowSize:d,title:l,url:h,fontSize:c,showdelay:p,position:u,overrideState:g}=t;if(e||!l)return this.hideIt=!0,this._hide();this.hideIt=!1,(this.state.project?.is_whitelabel||this.npsFormSteps===P.FEEDBACK)&&(this.footer.style.display="none"),this.npsFormSteps===P.THANKS?(this.title.style.display="none",setTimeout((()=>{this._hide()}),3e3)):this.title.innerText=this.npsFormSteps===P.FEEDBACK?"What’s the reason for your score?":l,g&&(g.title&&this.npsFormSteps===P.MAIN&&(this.title.innerText=g.title),g.skip_reason&&(this.skipReasonPreviewer=g.skip_reason));const b=E.getPosition(u,screen.width);Object.assign(this.nps.style,b),p=1,this.conf.landingMode||this.showdelaytimer||(this.state.preview?this._show():this.showdelaytimer=setTimeout(this._show,1e3*p));const f=m(T.getCustomStyle(i,s,n,o,r,a,Number(d),H));this.on("destroy",(()=>{f.parentElement?.removeChild(f)}))}),(t=>({disabled:!!t.widget.options["booster-common-disabled"]||!!t.widget.options["booster-nps-disabled"],sticky:!t.widget.options["booster-nps-absolute"],backgroundColor:String(t.widget.options["booster-nps-background-color"]||"ffffff"),titleColor:String(t.widget.options["booster-nps-title-color"]||"000000"),bodyColor:String(t.widget.options["booster-nps-body-color"]||"667D9F"),buttonTextColor:String(t.widget.options["booster-nps-button-text-color"]||"3778FF"),buttonBorderColor:String(t.widget.options["booster-nps-button-border-color"]||"3778FF"),shadowColor:String(t.widget.options["booster-nps-shadow-color"]||"6374A5"),shadowSize:String(t.widget.options["booster-nps-shadow-size"]||"0"),position:t.widget.options["booster-nps-position"]||"bottomcenter",title:t.boosterPosts?.nps?.title,url:t.boosterPosts?.nps?.url,overrideState:t.widget.overrideState})))})),s(this,"hidetimer",null),s(this,"_show",(()=>{this.hidetimer&&(clearTimeout(this.hidetimer),this.hidetimer=null),this.nps.classList.add(`${this.cssid}-inactive`),setTimeout((()=>{this.hideIt||(this.nps.classList.add(`${this.cssid}-active`),this.nps.classList.remove(`${this.cssid}-inactive`))}),50),this.parent.sendBeacon({event_type:"widget-booster-show",custom_1:"nps",post_id:Number(this.post?.id)||void 0}),this.parent.trigger("booster-show",{boster:"nps",post_id:this.post?.id,post_title:this.post?.title,post_url:this.post?.url})})),s(this,"show",this._show),s(this,"_hide",(()=>{this.hidetimer||(this.nps.classList.remove(`${this.cssid}-active`),this.nps.classList.add(`${this.cssid}-inactive`),this.nps.classList.remove(`${this.cssid}-inactive`),this.hidetimer=null)})),s(this,"hide",this._hide),s(this,"_createCSS",(()=>{let t=Math.random().toString(36).substr(2,9).toLowerCase();this.state.preview&&(t="preview");let e=m(T.createCSS(H,t,this.npsFormSteps));return this.on("destroy",(()=>{e.parentElement?.removeChild(e)})),`${H}-${t}`})),s(this,"_buildHtml",(()=>{this.nps&&this.nps.remove(),this.cssid=this._createCSS(),this.nps=document.createElement("a"),this.nps.className=`${this.cssid} ${H}`,this.nps.target="_self",this.nps.href="#",this.nps.innerHTML=z.NpsTemplate(),this.label=this.nps.querySelector(`.${H}-label`),this.title=this.nps.querySelector(`.${H}-title`),this.body=this.nps.querySelector(`.${H}-body`),this.footer=this.nps.querySelector(`.${H}-footer`);const t=z.votesBodyElement(this.updateFormSteps,this.npsFormSteps,this.updateNpsFeedback,this.npsFeedback,this.submitFeedback,this.state.boosterPosts.nps.skip_reason);this.body.append(t),document.body.append(this.nps);const e=this.state.boosterPosts.nps.notify_interaction,i=E.npsInteractionSubmit(e,this.npsState&&this.npsState[this.post.id],this.openCount),s=this.state.userData&&this.state.userData.posts&&this.state.userData.posts[this.post.id];i||s||(this._show(),this.nps.addEventListener("click",(t=>{if(t.target.classList.contains(`${H}-close-clicked`)){if(t.preventDefault(),t.stopImmediatePropagation(),!this.state.preview){let t={};this.npsState&&this.npsState[this.post.id]&&(t=this.npsState[this.post.id]),this.parent.submitNpsFeedback(W(W({},t),{},{post_id:this.post.id,close:!0,user_id:this.state.userData.$id}),this.NPS_STATE_KEY),this._hide(),this.conf.landingMode||this.parent?.setRead()}}else this.conf.landingMode||this.parent?.setRead(),this.parent.sendBeacon({event_type:"widget-booster-click",custom_1:"nps",post_id:Number(this.post?.id)||void 0}),this.parent.trigger("booster-click",{boster:"nps",post_id:this.post?.id,post_title:this.post?.title,post_url:this.post?.url})})),this.on("destroy",(()=>{document.body.removeChild(this.nps)})),this._configure())})),s(this,"updateFormSteps",(t=>{this.npsFormSteps=t,(this.state.boosterPosts.nps.skip_reason&&t===P.FEEDBACK||this.skipReasonPreviewer)&&(this.npsFormSteps=P.THANKS),this._buildHtml()})),s(this,"updateNpsFeedback",(t=>{this.npsFeedback=t})),s(this,"submitFeedback",(async()=>{if(this.state.preview)return;await E.submitFeedback(this.post.id,this.npsFeedback.npsFeedback,this.npsFeedback.npsScore,this.state.userData.$id,JSON.stringify(Object.assign({$locale:this.state.locale_id},I())),this.state.boosterPosts.nps.token);let t={};this.npsState&&this.npsState[this.post.id]&&(t=this.npsState[this.post.id]),this.parent.submitNpsScore(this.state.userData.$id,this.post.id),this.parent.submitNpsFeedback(W(W({},t),{},{post_id:this.post.id,score:this.npsFeedback.npsScore,user_id:this.state.userData.$id,close:!0}),this.NPS_STATE_KEY)})),this.NPS_STATE_KEY=`ANNOUNCEKIT_NPS:${this.state.project.id}`;let e=localStorage.getItem(this.NPS_STATE_KEY);this.npsState=e?JSON.parse(e):L;let i={openCount:null},n=1;this.npsState[this.post.id]&&(i=this.npsState[this.post.id],i.openCount&&(n=2)),this.openCount=n,this.npsState=this.parent.submitNpsFeedback(W(W({},i),{},{post_id:this.post.id,openCount:n,user_id:this.state.userData.$id}),this.NPS_STATE_KEY),this._buildHtml()}}const q="L2R_STATE",K="L2R_READY",V="L2R_RESIZE",Y="R2L_PUT_CSS",X="R2L_SET_THEME";function G(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function J(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?G(Object(i),!0).forEach((function(e){s(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):G(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}const Z=!!navigator.userAgent&&/iPhone|iPod|Android/.test(navigator.userAgent);class Q extends o{constructor(t){let{widget:e,data:i,user:n,lang:o,labels:r,name:a,user_token:d,options:l}=t;super(),s(this,"wrapper",void 0),s(this,"frame",void 0),s(this,"src",void 0),s(this,"data",void 0),s(this,"options",void 0),s(this,"state",void 0),s(this,"destroyed",void 0),s(this,"ready",void 0),s(this,"id",void 0),s(this,"size",{width:0,height:0}),this.id=a?`ank_widget_${a}`:`ank_widget_${Math.random().toString(36).substr(2,9)}`,this.data={user:n??null,data:i??null,labels:r??null,user_token:d??null,session:I(),mobile:!!Z},this.options=l??{lightweight:!0},o&&(this.data.locale="auto"==o?navigator.language.slice(0,2).toLowerCase():o),this.src=new URL(e),this.src.pathname+="/view",this.state={},this.createFrame(),window.addEventListener("message",(t=>{this.destroyed||t.origin==this.src.origin&&t.source===this.frame.contentWindow&&t.data.event&&this.trigger(t.data.event,t.data)})),this.on(V,(t=>{let{payload:e}=t;this.size.width==e.width&&this.size.height==e.height||(this.size=e,this.trigger("resize",this.size))})),this.on("L2R_LOAD",(t=>{if(this.state=t.payload,this.state.ui?.backgroundColor&&(this.frame.style.backgroundColor=this.state.ui?.backgroundColor),this.state.userData&&"ignore"==this.state.userData.$source)this.postMessage({event:"USERDATA",payload:{$source:"localstorage"}});else{let t=`{announcekit}:${this.state.project.id}`,e=localStorage.getItem(t),i=!0;if(e)try{this.postMessage({event:"USERDATA",payload:J(J({},JSON.parse(e)),{},{$source:"localstorage"})}),i=!1}catch(t){}i&&this.postMessage({event:"USERDATA",payload:{$source:"localstorage"}})}this.postMessage({event:"BOOTSTRAP"})})),this.on("L2R_PATCH_STATE",(t=>{this.trigger(q,{payload:J(J({},this.state),t.payload)})})),this.on(q,(t=>{this.state=t.payload;let e=`{announcekit}:${this.state.project.id}`;this.state.userData&&"localstorage"==this.state.userData.$source&&localStorage.setItem(e,JSON.stringify(this.state.userData||{})),this.trigger("state",t.payload)})),this.on("L2R_REQUEST",(t=>{this.trigger("request",t.payload)})),this.on(K,(()=>{this.ready=!0}))}init(){this.postMessage({event:"R2L_INIT",payload:{params:this.data}})}css(t){Object.assign(this.wrapper.style,t)}postMessage(t){this.destroyed||this.frame.contentWindow.postMessage(t,this.src.origin)}insert(t){if(!t)return;t.appendChild(this.wrapper);let e=document.createElement("form");e.style.display="none",e.setAttribute("action",String(this.src)),e.setAttribute("method","POST"),e.setAttribute("target",this.id);let i=document.createElement("input");i.type="hidden",i.name="json-body",i.value=JSON.stringify(J(J({},this.data),{},{options:this.options})),e.appendChild(i),document.body.appendChild(e),document.querySelector('iframe[name="'+this.id+'"]')&&e.submit(),document.body.removeChild(e)}createFrame(){let t=document.createElement("div");t.innerHTML=`<iframe name="${this.id}" allowfullscreen="true" data-announcekit-widget sandbox="allow-same-origin allow-presentation allow-scripts allow-top-navigation allow-popups allow-popups-to-escape-sandbox allow-forms allow-downloads"></iframe>`,t.className="announcekit-frame-wrapper";let e=t.firstChild;this.wrapper=t,this.frame=e,this.resetStyle(),t.addEventListener("click",(t=>{t.stopImmediatePropagation()})),document.addEventListener("click",(t=>{this.trigger("$clickoutside")})),document.addEventListener("touchstart",(t=>{this.trigger("$clickoutside")}))}resetStyle(){this.frame.setAttribute("style",""),this.wrapper.setAttribute("style",""),Object.assign(this.frame.style,{position:"absolute",top:0,right:0,bottom:0,left:0,border:0,width:"100%",height:"100%"}),Object.assign(this.wrapper.style,{position:"absolute",width:0,height:0,overflow:"hidden",top:"-1000em"})}destroy(){this.destroyed||(this.wrapper.parentElement&&this.wrapper.parentElement.removeChild(this.wrapper),this.destroyed=!0)}}class tt extends a{get type(){return"overlay"}constructor(t){super(t),s(this,"boosterFrame",void 0),s(this,"backdrop",void 0),s(this,"hidden",void 0),s(this,"title",void 0),s(this,"body",void 0),s(this,"_fixFrameHeight",(()=>{if(this.frame.data.mobile)return this.boosterFrame.css({height:"100vh"});let t="0";this.boosterFrame.size&&this.boosterFrame.size.height&&(t=`${this.boosterFrame.size.height}px`),this.boosterFrame.css({height:t})})),s(this,"_hide",(()=>{this.backdrop&&Object.assign(this.backdrop.style,{opacity:0,pointerEvents:"none"}),this.boosterFrame&&this.boosterFrame.css({opacity:0,pointerEvents:"none"}),this.hidden=!0})),s(this,"hide",(()=>{this._hide();let t=this.boosterFrame?.state?.posts?.[0];t&&this.parent.setRead(new Date(t.visible_at).getTime()),setTimeout((()=>{this.destroy()}),200)})),s(this,"_configure",(()=>{this.watchState((t=>{let{disabled:e,preview:i,size:s,width:n,unread:o,lastRead:r}=t;if(e)return this._hide();if(!i&&(!o||r>=new Date(this.post.visible_at).getTime()))return this._hide();this.boosterFrame||(this.boosterFrame=new Q({widget:this.post.$url,data:this.frame.data.data,user:this.frame.data.user,user_token:this.frame.data.user_token,lang:this.frame.data.locale}),this.boosterFrame.insert(document.body),this.boosterFrame.one("BOOTSTRAP",(t=>{this.boosterFrame.init(),this.boosterFrame.postMessage({event:"OPEN"})})),this.boosterFrame.on("resize",this._fixFrameHeight),this.boosterFrame.on("request",(t=>{"close"==t&&this.hide()})),i||this.boosterFrame.on("$clickoutside",this.hide),this.boosterFrame.css({position:"fixed",opacity:0,zIndex:2147483001,height:"0",transition:"opacity 0.25s ease-in",pointerEvents:"none",borderRadius:"4px"}));let a=`${n}px`;"default"==s?a="70vw":"narrow"==s?a="50vw":"wide"==s&&(a="90vw"),this.boosterFrame.css({width:a});let d=()=>{this.hidden||(this.frame.data.mobile?this.boosterFrame.css({left:0,right:0,top:0,bottom:0,width:"100vw",maxHeight:"100vh",borderRadius:0,boxShadow:"none",transform:"none"}):this.boosterFrame.css({left:"50%",right:0,top:"50%",bottom:0,maxHeight:"90vh",boxShadow:"0 2px 13px 0 rgba(0,0,0,0.19)",transform:"translateY(-50%) translateX(-50%)"}),this.boosterFrame.css({opacity:1,pointerEvents:"auto"}),this._fixFrameHeight(),this.backdrop||(this.backdrop=document.createElement("div"),this.backdrop.classList.add("announcekit-widget-iframe-backdrop"),Object.assign(this.backdrop.style,{position:"fixed",top:0,right:0,bottom:0,left:0,backgroundColor:"rgba(0,0,0,.3)",zIndex:998,opacity:0,transition:"opacity 0.7s ease"}),setTimeout((()=>{Object.assign(this.backdrop.style,{opacity:1}),this.title=this.boosterFrame.frame.contentDocument?.body?.querySelector("h1"),this.body=this.boosterFrame.frame.contentDocument?.body?.querySelector(".post-body div"),this.state.widget.overrideState&&this.state.widget.overrideState.title&&this.title&&(this.title.innerText=this.state.widget.overrideState.title),this.state.widget.overrideState&&this.state.widget.overrideState.summary&&this.body&&(this.body.innerHTML=this.state.widget.overrideState.summary)}),10),document.body.appendChild(this.backdrop)))};this.hidden=!1,this.boosterFrame.ready?d():this.boosterFrame.one(K,d),this.state.widget.overrideState&&this.state.widget.overrideState.title&&this.title&&(this.title.innerText=this.state.widget.overrideState.title),this.state.widget.overrideState&&this.state.widget.overrideState.summary&&this.body&&(this.body.innerHTML=this.state.widget.overrideState.summary)}),(t=>({preview:t.preview,disabled:!!t.widget.options["booster-common-disabled"]||!!t.widget.options["booster-overlay-disabled"],width:t.widget.options["booster-overlay-width"]||800,size:t.widget.options["booster-overlay-size"]||"default",unread:t.ui.unreadCount,lastRead:t.userData?.lastRead||0,overrideState:t.widget.overrideState}))),this.watchState((t=>{let{css:e,theme:i}=t;if(e)for(const t of Object.keys(e))this.boosterFrame?.postMessage({event:Y,payload:{css:e[t],id:t}});i&&this.boosterFrame?.postMessage({event:X,payload:i})}),(t=>({preview:t.preview,css:t.previewData?.css,theme:t.previewData?.theme})))})),this._configure()}destroy(){if(this.boosterFrame?.destroy(),this.boosterFrame=null,this.backdrop)try{document.body.removeChild(this.backdrop)}catch(t){}super.destroy()}}class et extends r{constructor(t){super(t),s(this,"boosters",[]),s(this,"onWidgetInit",(t=>{let{widget:e}=t;if(!1===e.conf.boosters)return;const i=e.state.boosterPosts??{},s=Object.keys(i);for(let t of s){if(!i[t])continue;if(e.state.widget.options[`booster-${t}-disabled`])return;if(this.boosters.find((e=>e.type==t)))return;let s;switch(t){case"bar":s=new x(e);break;case"modal":s=new O(e);break;case"overlay":s=new tt(e);break;case"nps":s=new U(e)}s&&this.boosters.push(s)}})),this.parent.on("widget-init",this.onWidgetInit)}get bar(){return this.boosters.find((t=>t instanceof x))}get modal(){return this.boosters.find((t=>t instanceof O))}get overlay(){return this.boosters.find((t=>t instanceof tt))}get nps(){return this.boosters.find((t=>t instanceof U))}}class it extends r{constructor(t){super(t)}get state(){return this.parent.state}get frame(){return this.parent.frame}get conf(){return this.parent.conf}get container(){return null}set container(t){throw new Error("not implemented")}}class st extends it{get badgeConf(){return this.conf.badge||{}}constructor(t){super(t),s(this,"badge",void 0),s(this,"handleClick",(t=>{t.stopPropagation(),this.trigger("click",t)})),s(this,"handleInterest",(t=>{this.trigger("interest")})),s(this,"_configure",(()=>{this.watchState((t=>{let{color:e,textColor:i,passiveColor:s,unread:n,hideWhenRead:o,eyecatcher:r,minimalist:a,favicon:d}=t;if(this.badge.className=Array.from(this.badge.classList).filter((t=>!/^announcekit/.test(t))).concat(["announcekit-widget-badge"]).join(" "),this.badgeConf.staticValue){if(this.badge.innerHTML=nt(`#${e}`,`#${i}`,this.badgeConf.staticValue,this.badge.style),this.badge.style.visibility="visible","pulse"==r)this.badge.classList.add(u(`#${e}`));else if("shake"==r){const t=a?.5:1;this.badge.classList.add(p(t))}}else if(n){if(this.badge.classList.remove("announcekit-widget-badge-hidden"),this.badge.style.visibility="visible",this.badge.innerHTML=nt(`#${e}`,`#${i}`,a?"":String(Math.min(n||0,5)),this.badge.style),a&&this.badge.classList.add(g()),"pulse"==r)this.badge.classList.add(u(`#${e}`));else if("shake"==r){const t=a?.5:1;this.badge.classList.add(p(t))}d&&l({color:`#${e}`,counter:Math.min(n||0,5)})}else o?(this.badge.style.visibility="hidden",this.badge.classList.add("announcekit-widget-badge-hidden")):(this.badge.style.visibility="visible",this.badge.classList.remove("announcekit-widget-badge-hidden"),a&&this.badge.classList.add(g()),this.badge.innerHTML=nt(`#${s}`,`#${i}`,"",this.badge.style)),d&&l({reset:!0})}),(t=>({color:String(t.widget.options["mode-badge-color"]||"ff3924"),textColor:String(t.widget.options["mode-badge-text-color"]||"ffffff"),passiveColor:String(t.widget.options["mode-badge-passive-color"]||"727272"),hideWhenRead:!!t.widget.options["mode-badge-hide-when-read"],eyecatcher:t.widget.options["mode-badge-eyecatcher"],unread:t.ui.unreadCount,minimalist:t.widget.options["mode-badge-minimalist"]||!1,favicon:t.widget.options["mode-badge-favicon"]||!1})))})),this.badge=document.createElement("a"),this.badge.className="announcekit-widget-badge",this.badge.target="_blank",this.badge.href=t.state.feed.url,Object.assign(this.badge.style,{display:"inline-flex",flex:"0 0",width:"1em",height:"1em",cursor:"pointer",padding:"0",position:"relative",verticalAlign:"middle",visibility:"hidden"},this.badgeConf.style),this.one("destroy",(()=>{this.container=null})),this._configure()}get container(){return this.badge.parentElement}set container(t){let e=this.container;e&&(e.removeEventListener("click",this.handleClick),e.removeEventListener("mouseenter",this.handleInterest),e.removeChild(this.badge),e["announcekit-position-override"]&&(e.style.position="")),t&&(t.appendChild(this.badge),t.addEventListener("click",this.handleClick),t.addEventListener("mouseenter",this.handleInterest),t.style.cursor="pointer",""==t.style.position&&(t.style.position="relative",t["announcekit-position-override"]=!0))}getBoundingClientRect(){return this.badge.getBoundingClientRect()}}function nt(t,e,i,s){let n="";return s.width&&(n+=`width: ${s.width};`),s.height&&(n+=`height: ${s.height};`),`\n    <svg\n       viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"\n       height="${s.height||"1em"}" width="${s.width||"1em"}"\n       style="${n.trim()}">\n      <g text-anchor="middle" font-weight="bold" font-family='-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;' text-rendering="geometricPrecision" font-size="60">\n        <circle r="50" cx="50" cy="50" fill="${t}"/>\n        <text x="50" y="70" textLength="70" fill="${e}">${i}</text>\n      </g>\n    </svg>\n  `}class ot extends it{get drawerConf(){return this.conf.drawer||{}}constructor(t){super(t),s(this,"drawer",void 0),s(this,"counter",void 0),s(this,"label",void 0),s(this,"badge",void 0),s(this,"handleClick",(t=>{t.stopPropagation(),this.trigger("click",t)})),s(this,"handleInterest",(t=>{this.trigger("interest")})),s(this,"_configure",(()=>{this.watchState((t=>{let{text:e,textWeight:i,color:s,textColor:n,top:o,roundness:r,unread:a,hideWhenRead:d,open:l,textSize:h}=t;this.drawer.style.top=`${o}%`,this.drawer.style.backgroundColor=`#${s}`,this.drawer.style.color=`#${n}`,this.drawer.style.fontSize=`${h}px`,this.drawer.style.fontWeight=i,this.drawer.style.borderRadius=`${r}em ${r}em 0 0`,this.label.innerText=e,this.drawer.style.display=a||!d||l?"block":"none"}),(t=>({text:String(t.widget.options["mode-drawer-text"]||"UPDATES"),textSize:String(t.widget.options["mode-drawer-text-size"]||16),textWeight:String(t.widget.options["mode-drawer-text-weight"]||400),color:String(t.widget.options["mode-drawer-color"]||"4E00FF"),textColor:String(t.widget.options["mode-drawer-text-color"]||"FFFFFF"),top:String(t.widget.options["mode-drawer-top"]||50),roundness:String(t.widget.options["mode-drawer-roundness"]||.5),hideWhenRead:!!t.widget.options["mode-drawer-hide-when-read"],unread:t.ui.unreadCount,open:t.ui.open})))})),this.drawer=document.createElement("a"),this.drawer.target="_blank",this.drawer.href=t.state.feed.url,this.drawer.className="announcekit-widget-drawer-badge",Object.assign(this.drawer.style,{backgroundColor:"transparent",boxShadow:"0 1px 7px 0 rgba(0,0,0,0.18)",position:"fixed",top:"50%",right:"0",zIndex:"2147483000",display:"block",cursor:"pointer",transform:"rotate(-90deg) translateY(-100%) translateX(50%)",transformOrigin:"right top",padding:"0.5em 1em"},this.drawerConf.style),this.drawer.appendChild(this._createLabel()),this.drawer.appendChild(this._createCounter()),this.badge=new st(this.parent),this.badge.on("click",this.handleClick),this.badge.container=this.counter,this.drawer.addEventListener("click",this.handleClick),this.drawer.addEventListener("mouseenter",this.handleInterest),this.one("destroy",(()=>{this.badge?.destroy(),this.container=null})),this.container=document.body,this._configure()}get container(){return this.drawer.parentElement}set container(t){let e=this.container;e&&e.removeChild(this.drawer),t&&t.appendChild(this.drawer)}getBoundingClientRect(){return this.drawer.getBoundingClientRect()}_createCounter(){let t=document.createElement("span");return t.className="announcekit-badge-counter",Object.assign(t.style,{position:"absolute",top:"-5px",right:"-5px",fontSize:"22px",display:"flex"}),this.counter=t}_createLabel(){let t=document.createElement("span");return t.className="announcekit-drawer-label",Object.assign(t.style,{display:"inline-block"}),this.label=t}}const rt={bubble:'<svg style="position: relative; top: 2px" width="26" height="28" xmlns="http://www.w3.org/2000/svg"><path d="M23 0H3a3 3 0 0 0-3 3v24.41l5.12-5.12a1.05 1.05 0 0 1 .71-.29H23a3 3 0 0 0 3-3V3a3 3 0 0 0-3-3zm0 18.086c0 .499-.373.914-.875.914H6.515c-.723 0-2.095.151-2.606.66L3 20.606V3.903C3 3.404 3.407 3 3.91 3h18.18c.503 0 .91.404.91.903v14.183z" fill-rule="nonzero"/></svg>',megaphone:'<svg width="32" height="26" xmlns="http://www.w3.org/2000/svg"><path d="M14.46 22.989a3.305 3.305 0 0 1-.167-.668l9.165-1.608c.114 1.799-1.226 3.632-3.25 4.369-2.428.884-5.007-.056-5.749-2.093zM1.655 12.883c.684-.25 1.466.17 1.744.934l3.278 9.005c.278.764-.052 1.588-.736 1.837-.683.248-1.465-.17-1.743-.935L.92 14.72c-.278-.764.052-1.588.735-1.836zm6.182 9.268l-3.344-9.186-.02-.057L21.826 2.733l1.278 3.512-13.41 7.232a.375.375 0 0 0-.147.506.37.37 0 0 0 .499.158l13.318-7.183 4.327 11.89-19.834 3.36-.02-.057zM23.01.197c.683-.249 1.47.182 1.753.96l1.925 5.29 2.567 7.052 1.925 5.29c.283.778-.042 1.613-.726 1.862-.683.248-1.47-.182-1.753-.96l-.128-.353-6.161-16.926-.128-.353C22 1.281 22.326.446 23.01.197zm4.96 5.916c1.456-.334 3.024.594 3.607 2.196.584 1.603-.021 3.322-1.35 4.002L27.97 6.113z" fill-rule="evenodd"/></svg>',giftbox:'<svg width="28" height="28" xmlns="http://www.w3.org/2000/svg"><g stroke="#FFF" stroke-width="2" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"><path d="M24.4 14v13H3.6V14M1 7.5h26V14H1zM14 27V7.5M14 7.5H8.15a3.25 3.25 0 1 1 0-6.5C12.7 1 14 7.5 14 7.5zM14 7.5h5.85a3.25 3.25 0 0 0 0-6.5C15.3 1 14 7.5 14 7.5z"/></g></svg>',rocket:'<svg style="position: relative; top: 1px" width="28" height="28" xmlns="http://www.w3.org/2000/svg"><path d="M5.838 16.657L0 17.49s.884-4.419 3.535-7.07c1.13-1.13 3.344-1.176 4.793-1.062a9.02 9.02 0 0 1 1.014-1.21C17.515-.025 28 0 28 0s.025 10.485-8.15 18.658a9.02 9.02 0 0 1-1.209 1.014c.114 1.45.068 3.664-1.063 4.793C14.928 27.116 10.51 28 10.51 28l.834-5.838H9.342l-3.504-3.504v-2.001zm10.51-7.34a2.335 2.335 0 1 0 4.67.001 2.335 2.335 0 0 0-4.67-.001zM7.639 22.559l.535.533a2.653 2.653 0 0 1-.686 1.212c-1.616 1.616-5.137 1.342-5.137 1.342s-.254-3.543 1.341-5.138a2.653 2.653 0 0 1 1.212-.685l.534.534c-.075.054-.16.085-.228.152-1.14 1.139-.57 2.847-.57 2.847s1.709.569 2.847-.57c.068-.066.1-.153.152-.227z" fill-rule="evenodd"/></svg>',warning:'<svg width="34" height="33" xmlns="http://www.w3.org/2000/svg"><path d="M34 16.5l-3.77 4.385.525 5.813-5.58 1.286L22.255 33 17 30.697 11.745 33l-2.92-5.016-5.58-1.286.526-5.813L0 16.5l3.77-4.385-.525-5.813 5.58-1.286L11.745 0 17 2.303 22.255 0l2.92 5.016 5.58 1.286-.526 5.813L34 16.5zm-3.09 0l-3.086-3.563.43-4.723-4.565-1.045-2.39-4.075L17 4.965l-4.3-1.871-2.389 4.075-4.565 1.045.43 4.723L3.091 16.5l3.085 3.563-.43 4.723 4.565 1.045 2.39 4.075L17 28.035l4.3 1.871 2.389-4.075 4.565-1.045-.43-4.723 3.085-3.563zm-12.475 5.965H16V20h2.435v2.465zm0-5.07H16V10h2.435v7.394z" fill-rule="nonzero"/></svg>',bell:'<svg style="position: relative; left: 2px" width="25" height="28" xmlns="http://www.w3.org/2000/svg"><path d="M21.97 14.648c-1.864-.91-2.31-2.575-3.004-4.455-1.46-4.023-4.773-8.207-9.46-8.267C8.602-.743 4.6.33 5.06 3.118c-3.94 2.37-4.717 7.65-3.97 11.865.316 1.888.786 3.64-.374 5.36C-.64 22.397.07 25.4 2.026 24.876l21.076-5.647c1.868-.5 1.07-3.48-1.132-4.581zm-6.29 8.542l-5.157 1.382c-.534.143-.707.565-.477 1.067 1.431 3.561 7.034 2.06 6.469-1.827-.005-.375-.39-.741-.834-.622z" fill-rule="evenodd"/></svg>'};class at extends it{get floatConf(){return this.conf.float||{}}constructor(t){super(t),s(this,"float",void 0),s(this,"icon",void 0),s(this,"customIcon",void 0),s(this,"counter",void 0),s(this,"badge",void 0),s(this,"handleClick",(t=>{t.stopPropagation(),this.trigger("click",t)})),s(this,"handleInterest",(t=>{this.trigger("interest")})),s(this,"_configure",(()=>{this.watchState((t=>{let{unread:e,hideWhenRead:i,position:s,icon:n,customIcon:o,iconColor:r,color:a,open:d}=t;this.float.style.backgroundColor=`#${a}`,"custom"===n&&""!==o.trim()?(this.icon.innerHTML=`<img src="${o}" alt="Float Icon"/>`,this.icon.querySelector("img").style.width="100%"):(this.icon.innerHTML=rt[n]||rt.bell,this.icon.querySelector("svg").style.fill=`#${r}`),"bottomleft"==s?(this.float.style.left="20px",this.float.style.right="auto"):(this.float.style.right="20px",this.float.style.left="auto"),this.float.style.display=e||!i||d?"block":"none"}),(t=>({color:String(t.widget.options["mode-float-color"]||"4E00FF"),icon:String(t.widget.options["mode-float-icon"]||"bell"),customIcon:String(t.widget.options["mode-float-custom-icon-url"]||""),iconColor:String(t.widget.options["mode-float-icon-color"]||"FFFFFF"),position:String(t.widget.options["mode-float-position"]||"bottomright"),hideWhenRead:!!t.widget.options["mode-float-hide-when-read"],unread:t.ui.unreadCount,open:t.ui.open})))})),this.float=document.createElement("a"),this.float.target="_blank",this.float.href=t.state.feed.url,this.float.className="announcekit-widget-floating-badge",Object.assign(this.float.style,{backgroundColor:"transparent",boxShadow:"0 1px 7px 0 rgba(0,0,0,0.18)",position:"fixed",bottom:"20px",left:"-10000px",zIndex:"2147483000",display:"block",width:"58px",height:"58px",borderRadius:"24px",cursor:"pointer"},this.floatConf.style),this.float.appendChild(this._createIcon()),this.float.appendChild(this._createCounter()),this.badge=new st(this.parent),this.badge.on("click",this.handleClick),this.badge.container=this.counter,this.float.addEventListener("click",this.handleClick),this.float.addEventListener("mouseenter",this.handleInterest),this.one("destroy",(()=>{this.badge?.destroy(),this.container=null})),this.container=document.body,this._configure()}get container(){return this.float.parentElement}set container(t){let e=this.container;e&&e.removeChild(this.float),t&&t.appendChild(this.float)}getBoundingClientRect(){return this.float.getBoundingClientRect()}_createIcon(){let t=document.createElement("span");return t.className="announcekit-badge-icon",Object.assign(t.style,{position:"absolute",top:"50%",left:"50%",display:"inline-block",transform:"translateX(-50%) translateY(-50%)"}),this.icon=t}_createCounter(){let t=document.createElement("span");return t.className="announcekit-badge-counter",Object.assign(t.style,{position:"absolute",top:"-5px",right:"-5px",fontSize:"22px",display:"flex"}),this.counter=t}}i(6699);class dt extends it{get lineConf(){return this.parent.conf.line||{}}constructor(t){super(t),s(this,"line",void 0),s(this,"label",void 0),s(this,"title",void 0),s(this,"handleClick",(t=>{t.stopPropagation(),this.trigger("click",t)})),s(this,"_configure",(()=>{this.watchState((t=>{let{title:e,url:i,labelName:s,labelColor:n}=t;e?(this.line.style.visibility="visible",s?(this.label.innerText=this.state.locale.$label[s]||s,this.label.style.backgroundColor=`#${n}20`,this.label.style.color=`#${n}`):(this.label.innerText="",this.label.style.backgroundColor="transparent"),this.title.innerText=e,this.line.href=i):(this.line.style.visibility="hidden",this.title.innerHTML="",this.label.innerHTML="")}),(t=>({title:t.posts[0]?.title,url:t.posts[0]?.url,labelName:t.posts[0]?.labels?.[0]?.name,labelColor:t.posts[0]?.labels?.[0]?.color})))})),this.line=document.createElement("a"),this.line.className="announcekit-widget-line",this.line.target="_blank",this.line.href=t.state.feed.url;const e=["ar","he"].includes(this.state.project.locale);Object.assign(this.line.style,{display:"inline-flex",alignItems:"center",color:"inherit",direction:e?"rtl":"ltr",textDecoration:"none"},this.lineConf.style),this.line.appendChild(this._createLabel()),this.line.appendChild(this._createTitle()),this.line.addEventListener("click",this.handleClick),this.one("destroy",(()=>{this.container=null})),this._configure()}get container(){return this.line.parentElement}set container(t){let e=this.container;e&&e.removeChild(this.line),t&&t.appendChild(this.line)}getBoundingClientRect(){return this.line.getBoundingClientRect()}_createLabel(){return this.label=document.createElement("span"),this.label.className="announcekit-line-label",Object.assign(this.label.style,{backgroundColor:"transparent",borderRadius:"4px",padding:"0.2em 0.5em",color:"white",textTransform:"uppercase",marginRight:"5px",fontSize:"0.65em",fontWeight:"500"}),["ar","he"].includes(this.state.project.locale)&&(this.label.style.marginLeft="5px",this.label.style.marginRight="0px"),this.label}_createTitle(){return this.title=document.createElement("span"),this.title.className="announcekit-line-title",this.title.style.lineHeight="1em",this.title}}let lt=!1;if("undefined"!=typeof window){const t={get passive(){lt=!0}};window.addEventListener("testPassive",null,t),window.removeEventListener("testPassive",null,t)}const ht="undefined"!=typeof window&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||"MacIntel"===window.navigator.platform&&window.navigator.maxTouchPoints>1);let ct,pt,ut=[],gt=!1,mt=-1;const bt=t=>ut.some((e=>!(!e.options.allowTouchMove||!e.options.allowTouchMove(t)))),ft=t=>{const e=t||window.event;return!!bt(e.target)||e.touches.length>1||(e.preventDefault&&e.preventDefault(),!1)};class wt extends r{get disablesBodyScroll(){return!1}get state(){return this.parent.state}get frame(){return this.parent.frame}constructor(t){super(t),s(this,"isOpen",!1),s(this,"isPreloaded",!1),this.one("destroy",(()=>{this.frame.resetStyle()}))}preload(){this.isPreloaded||(this.isPreloaded=!0,this.trigger("preload"))}open(){this?.disablesBodyScroll&&!1!==this?.parent?.conf?.disablesBodyScroll&&((t,e)=>{if(ht){if(!t)return void console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");if(t&&!ut.some((e=>e.targetElement===t))){const i={targetElement:t,options:e||{}};ut=[...ut,i],t.ontouchstart=t=>{1===t.targetTouches.length&&(mt=t.targetTouches[0].clientY)},t.ontouchmove=e=>{1===e.targetTouches.length&&((t,e)=>{const i=t.targetTouches[0].clientY-mt;!bt(t.target)&&(e&&0===e.scrollTop&&i>0||(t=>!!t&&t.scrollHeight-t.scrollTop<=t.clientHeight)(e)&&i<0?ft(t):t.stopPropagation())})(e,t)},gt||(document.addEventListener("touchmove",ft,lt?{passive:!1}:void 0),gt=!0)}}else{(t=>{setTimeout((()=>{if(void 0===pt){const e=!!t&&!0===t.reserveScrollBarGap,i=window.innerWidth-document.documentElement.clientWidth;e&&i>0&&(pt=document.body.style.paddingRight,document.body.style.paddingRight=`${i}px`)}void 0===ct&&(ct=document.body.style.overflow,document.body.style.overflow="hidden")}))})(e);const i={targetElement:t,options:e||{}};ut=[...ut,i]}})(this.frame.wrapper,{reserveScrollBarGap:!0}),this.trigger("open")}close(){this.trigger("close"),this?.disablesBodyScroll&&!1!==this?.parent?.conf?.disablesBodyScroll&&(t=>{if(ht){if(!t)return void console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");t.ontouchstart=null,t.ontouchmove=null,ut=ut.filter((e=>e.targetElement!==t)),gt&&0===ut.length&&(document.removeEventListener("touchmove",ft,lt?{passive:!1}:void 0),gt=!1)}else ut=ut.filter((e=>e.targetElement!==t)),ut.length||setTimeout((()=>{void 0!==pt&&(document.body.style.paddingRight=pt,pt=void 0),void 0!==ct&&(document.body.style.overflow=ct,ct=void 0)}))})(this.frame.wrapper)}}class yt extends wt{constructor(t){super(t),s(this,"_configure",(()=>{this.watchState((()=>{this._reposition()}),(t=>({fullHeight:!!t.widget.options["widget-embed-full-height"]})))})),s(this,"_reposition",(()=>{this.handleResize(this.frame.size)})),s(this,"handleResize",(t=>{let e={position:"relative",top:0,left:0,width:"100%",opacity:1,height:"100%",minHeight:"250px"};this.state.widget.options["widget-embed-full-height"]&&(e.height=`${t.height}px`,delete e.minHeight),this.frame.css(e)})),this.frame.on("resize",this.handleResize),this.on("destroy",(()=>{this.frame.off("resize",this.handleResize)})),this._configure(),requestAnimationFrame((()=>this.open()))}open(){this._reposition(),super.open()}close(){}}class vt extends wt{get disablesBodyScroll(){return!0}constructor(t){super(t),s(this,"element",void 0),s(this,"isOpen",void 0),s(this,"openAt",void 0),s(this,"backdrop",void 0),s(this,"handleClickOutside",(()=>{this.openAt&&this.openAt+500>Date.now()||this.close()})),s(this,"fixFrameHeight",(()=>{if(!this.isOpen)return;let t="900px";this.frame.size&&this.frame.size.height&&(t=`${this.frame.size.height}px`),this.frame.css({maxHeight:t})})),this.frame.css({position:"fixed",opacity:0,zIndex:2147483001,transform:"",height:"",width:"400px"}),this.frame.on("$clickoutside",this.handleClickOutside),this.frame.on("resize",this.fixFrameHeight),this.one("destroy",(()=>{if(this.frame.off("$clickoutside",this.handleClickOutside),this.backdrop)try{document.body.removeChild(this.backdrop)}catch(t){}}))}open(){this.isOpen||this.destroyed||(this.openAt=Date.now(),this.isOpen=!0,this.frame.css({opacity:1,transform:"translateY(-50%) translateX(-50%)",transition:"opacity 0.25s ease-in",left:"50%",right:0,top:"50%",bottom:0,maxWidth:"600px",maxHeight:"900px",width:"70vw",height:"80vh",pointerEvents:"auto",borderRadius:"4px",boxShadow:"0 2px 13px 0 rgba(0,0,0,0.19)"}),this.fixFrameHeight(),this.backdrop=document.createElement("div"),this.backdrop.classList.add("announcekit-widget-iframe-backdrop"),Object.assign(this.backdrop.style,{position:"fixed",top:0,right:0,bottom:0,left:0,backgroundColor:"rgba(0,0,0,.3)",zIndex:998,opacity:0,transition:"opacity 0.7s ease"}),setTimeout((()=>Object.assign(this.backdrop.style,{opacity:1})),10),document.body.appendChild(this.backdrop),super.open())}close(){if(this.isOpen&&!this.destroyed&&!this.state.widget.persistent){this.openAt=null,this.isOpen=!1,super.close(),Object.assign(this.backdrop.style,{opacity:0,pointerEvents:"none"}),this.frame.css({opacity:0,pointerEvents:"none"});try{this.frame.css({opacity:0,transform:"",pointerEvents:"none",top:"-1000em",left:"",bottom:"",right:""}),document.body.removeChild(this.backdrop)}catch(t){}}}}class xt extends wt{constructor(t){super(t),s(this,"isOpen",void 0),s(this,"openAt",void 0),s(this,"capturedPosition",void 0),s(this,"repositionInterval",void 0),s(this,"handleClickOutside",(()=>{this.openAt&&this.openAt+500>Date.now()||this.close()})),s(this,"handleResize",(t=>{let{payload:e}=t;this.frame.css({height:`${Math.max(Math.min(e.height,350),100)}px`}),this.trigger("resize",{size:e})})),s(this,"_reposition",(()=>{let t={left:0,top:0,bottom:0,right:0,width:0,height:0},e=this.frame.wrapper.getBoundingClientRect();if(this.parent.launcher){if(t=this.parent.launcher.getBoundingClientRect(),!t||!t.width||!t.height)return}else this.capturedPosition?(t.left=t.right=this.capturedPosition.left,t.top=t.bottom=this.capturedPosition.top):(t.top=t.bottom=window.innerHeight/2-e.height/2,t.left=t.right=window.innerWidth/2-e.width/2);let i="left",s="top";t.left+e.width>window.innerWidth&&(i="right"),t.top+e.height+10>window.innerHeight&&t.top>window.innerHeight/2&&(s="bottom"),"bar"==this.state.widget.mode&&(i="center");let n={opacity:1,marginTop:0},o=window.pageYOffset||document.documentElement.scrollTop,r=window.pageXOffset||document.documentElement.scrollLeft;"left"==i?Object.assign(n,{left:`${Math.max(0,t.left+r)}px`}):"right"==i?Object.assign(n,{left:`${Math.max(0,t.left+r-e.width)}px`}):"center"==i&&Object.assign(n,{left:`${Math.max(0,t.left+r+(t.width-e.width)/2)}px`}),"top"==s?Object.assign(n,{top:`${t.bottom+o+10}px`}):Object.assign(n,{top:t.top+o-e.height-10+"px"}),this.frame.css(n)})),this.frame.css({opacity:0,transition:"margin-top 0.2s linear, opacity 0.2s linear",zIndex:16777270,marginTop:"-10px",borderRadius:"4px",boxShadow:"0 2px 13px 0 rgba(0,0,0,0.19)",width:"400px",height:"400px"}),this.frame.on(V,this.handleResize),this.frame.on("$clickoutside",this.handleClickOutside),this.one("destroy",(()=>{this.frame.off("$clickoutside",this.handleClickOutside),this.frame.off(V,this.handleResize),window.removeEventListener("scroll",this._reposition),window.removeEventListener("resize",this._reposition),clearInterval(this.repositionInterval)}))}open(){this.isOpen||this.destroyed||(this.openAt=Date.now(),this.isOpen=!0,window.addEventListener("scroll",this._reposition),window.addEventListener("resize",this._reposition),window.event&&window.event.clientX&&window.event.clientY&&(this.capturedPosition={left:window.event.clientX,top:window.event.clientY}),super.open(),this._reposition(),this.repositionInterval=setInterval(this._reposition,200))}close(){!this.isOpen||this.destroyed||this.state.widget.persistent||(this.isOpen=!1,this.openAt=null,this.capturedPosition=null,this.frame.css({opacity:0,marginTop:"-10px"}),this.frame.css({top:"-1000em",left:"0"}),window.removeEventListener("scroll",this._reposition),window.removeEventListener("resize",this._reposition),clearInterval(this.repositionInterval),super.close())}}let $t=screen.width<700;class kt extends wt{get disablesBodyScroll(){return!0}constructor(t){super(t),s(this,"element",void 0),s(this,"openAt",void 0),s(this,"backdrop",void 0),s(this,"handleClickOutside",(()=>{this.openAt&&this.openAt+500>Date.now()||this.close()})),s(this,"_configure",(()=>{this.watchState((()=>{this._reposition()}),(t=>({slideDirection:t.widget.options["widget-sidebar-slide-direction"],width:t.widget.options["widget-sidebar-width-preset"]})))})),s(this,"_reposition",(()=>{if(this.isOpen){const t={opacity:1,transform:"translateX(0px)",borderRadius:"4px",left:"",right:"10px",top:"10px",bottom:"10px",width:"400px",pointerEvents:"auto"};"narrow"==this.state.widget.options["widget-sidebar-width-preset"]?t.width="350px":"wide"==this.state.widget.options["widget-sidebar-width-preset"]&&(t.width="500px"),"left"==this.state.widget.options["widget-sidebar-slide-direction"]&&(t.right="",t.left="10px"),this.frame.css(t),$t&&this.frame.css({left:0,right:0,top:0,bottom:0,width:"100vw",height:"100vh",borderRadius:0}),this.backdrop||(this.backdrop=document.createElement("div"),this.backdrop.classList.add("announcekit-widget-iframe-backdrop"),Object.assign(this.backdrop.style,{position:"fixed",top:0,right:0,bottom:0,left:0,backgroundColor:"rgba(0,0,0,.3)",zIndex:998,opacity:0,transition:"opacity 0.7s ease"}),document.body.appendChild(this.backdrop),requestAnimationFrame((()=>Object.assign(this.backdrop.style,{opacity:1}))))}else{let t="left"==this.state.widget.options["widget-sidebar-slide-direction"]?"-60px":"60px";if(this.frame.css({opacity:0,transform:`translateX(${t})`,pointerEvents:"none"}),this.backdrop){Object.assign(this.backdrop.style,{opacity:0,pointerEvents:"none"});let t=this.backdrop;try{this.frame.css({top:"-1000em",left:"",bottom:"",right:""}),document.body.removeChild(t)}catch(t){}this.backdrop=null}}})),this.frame.css({position:"fixed",opacity:0,transition:"opacity 0.25s ease-in, transform 0.2s ease-in",zIndex:2147483001,transform:"translateX(60px)",boxShadow:"0 2px 13px 0 rgba(0,0,0,0.19)",height:"",width:"400px"}),this.frame.on("$clickoutside",this.handleClickOutside),this.one("destroy",(()=>{if(this.frame.off("$clickoutside",this.handleClickOutside),this.backdrop)try{document.body.removeChild(this.backdrop)}catch(t){}})),this._configure()}open(){this.isOpen||this.destroyed||(this.openAt=Date.now(),this.isOpen=!0,this._reposition(),super.open())}close(){!this.isOpen||this.destroyed||this.state.widget.persistent||(this.openAt=null,this.isOpen=!1,this._reposition(),super.close())}}function St(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function _t(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?St(Object(i),!0).forEach((function(e){s(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):St(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}class Ct extends r{get state(){return this.frame.state}constructor(t,e,i){super(t),s(this,"frame",void 0),s(this,"conf",void 0),s(this,"container",void 0),s(this,"widget",void 0),s(this,"launcher",void 0),s(this,"isOpen",!1),this.frame=e,this.conf=i,this.container=h(i.selector),this._watchLocalRequests(),this._watchGlobalWidgets(),this._watchUnread(),this._setupPreview(),this._createLauncher(),this._createWidget(),this._setupSegmentTracking(),this.frame.on("state",(t=>this.trigger("state",t))),this.frame.on("close",(()=>this.close())),this.frame.on("READY",(()=>this.trigger("ready"))),this.trigger("state",this.state),this.one("init",(()=>{this.conf.onInit&&requestAnimationFrame((()=>this.conf.onInit(this))),this.sendBeacon({event_type:"widget-load"})})),this.one("destroy",(()=>{this.widget?.destroy(),this.launcher?.destroy(),this.frame.destroy()}))}_init(){this.frame.init(),this.trigger("init")}_createWidget(){this.watchState((t=>{this.widget&&(this.widget.destroy(),this.widget=null),requestAnimationFrame((()=>{if(!this.destroyed){if("embed"==t)this.widget=new yt(this);else switch(t){case"popup":this.widget=new xt(this);break;case"sidebar":this.widget=new kt(this);break;case"feed":this.widget=new vt(this)}this.widget&&(this.widget.on("open",(()=>{this.frame.postMessage({event:"OPEN"}),this.trigger("open"),this.isOpen=!0,this.sendBeacon({event_type:"widget-open"})})),this.widget.on("close",(()=>{this.frame.postMessage({event:"CLOSE"}),this.trigger("close"),this.isOpen=!1,this.sendBeacon({event_type:"widget-close"})})),this.widget.on("preload",(()=>{this.frame.postMessage({event:"LOAD"}),this.trigger("preload")})),this.widget.on("resize",(t=>{this.trigger("resize",t)}))),this.isOpen&&requestAnimationFrame((()=>this.open()))}}))}),(t=>t.widget.action))}_createLauncher(){this.watchState((t=>{this.launcher&&(this.launcher.destroy(),this.launcher=null),requestAnimationFrame((()=>{if(!this.destroyed){switch(this.container&&(this.container.setAttribute("data-announcekit-mode",t),"badge"==t?this.launcher=new st(this):"line"==t&&(this.launcher=new dt(this)),this.launcher&&(this.launcher.container=this.container)),t){case"float":this.launcher=new at(this);break;case"drawer":this.launcher=new ot(this)}this.launcher&&(this.launcher.on("click",(t=>{this.widget?(t.preventDefault(),this.isOpen?this.close():this.open()):this.setRead()})),this.launcher.on("interest",(t=>{this.widget&&this.widget.preload()})))}}))}),(t=>"embed"==t.widget.action?"embed":t.widget.mode))}_watchLocalRequests(){this.frame.on("request",(t=>{"close"==t&&this.close(),t&&"imgmodal"===t.type&&function(t){let{media:e,src:i,poster:s}=t;if(screen.width<700)return;const n=document.createElement("div");Object.assign(n.style,{display:"none",position:"fixed",zIndex:"1000000000000",left:"0",top:"0",width:"100%",height:"100%",overflow:"hidden",backgroundColor:"rgba(0, 0, 0, 0.9)",textAlign:"center",cursor:"pointer",animation:"fadein 0.2s"}),n.addEventListener("click",(function(t){t.stopPropagation(),t.preventDefault(),n.parentNode.removeChild(n)}));const o=document.createElement("div");if(Object.assign(o.style,{display:"table-cell",verticalAlign:"middle",textAlign:"center"}),"video"==e){const t=document.createElement("video");t.setAttribute("poster",s),t.setAttribute("loop",""),t.setAttribute("muted","muted"),t.setAttribute("playsinline",""),t.setAttribute("autoplay",""),t.muted=!0,t.style.maxWidth="min(100%, 55vw)",t.style.display="inline-block";const e=document.createElement("source");e.setAttribute("type","video/mp4"),e.setAttribute("src",i),t.appendChild(e),o.appendChild(t)}else{const t=document.createElement("img");t.setAttribute("src",i),Object.assign(t.style,{maxWidth:"min(100%, 55vw)",display:"inline-block"}),o.appendChild(t)}n.appendChild(o),document.body.appendChild(n),n.style.display="table"}(t),t&&"trigger"===t.type&&this.trigger(t.name,t.data)}))}_watchGlobalWidgets(){const t=t=>{t.widget!=this&&this.close()};this.parent.on("widget-open",t),this.one("destroy",(()=>this.parent.off("widget-open",t)))}_watchUnread(){let t,e=!1;this.on("state",(i=>{i.ui.unreadCount!=t&&((e||i.ui.unreadCount)&&(e=!0,requestAnimationFrame((()=>this.trigger("unread",{widget:this,unread:this.state.ui.unreadCount})))),t=i.ui.unreadCount)}))}setRead(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.frame.postMessage({event:"UPDATE_LAST_READ",payload:{upto:t}})}showPost(t){let{singular:e=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t&&(this.open(),this.frame.postMessage({event:"R2L_SHOW_POST",payload:{id:t,singular:e}}))}subscribeToProject(t){if(t)return this.frame.postMessage({event:"R2L_SUBSCRIBE_EMAIL",payload:{email:t}}),new Promise(((t,e)=>{this.frame.one("L2R_SUBSCRIBE_EMAIL_RESULT",(i=>{const s=i.payload.error;if(s)return e(new Error(s));t(i.payload)}))}))}open(){this.widget?.open()}close(){this.widget?.close()}trigger(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super.trigger(t,e),this.parent.trigger(`widget-${t}`,_t(_t({},e),{},{widget:this}))}sendBeacon(t){this.frame?.postMessage({event:"R2L_BEACON",payload:t})}submitNpsFeedback(t,e){const{post_id:i}=t,s=localStorage.getItem(e),n=s?JSON.parse(s):L;return n[i]=t,localStorage.setItem(e,JSON.stringify(n)),n}submitNpsScore(t,e){this.frame?.postMessage({event:"NPS_FEEDBACK_ADD",payload:{$id:t,posts:{[e]:{feedback:!0}}}})}_setupPreview(){var t=this;this.state.preview&&(this.watchState((t=>{let{mode:e,action:i}=t;document.body.setAttribute("data-mode",e),document.body.setAttribute("data-action",i)}),(t=>({mode:t.widget.mode,action:t.widget.action}))),this.patchState=t=>this.frame.postMessage({event:"R2L_PATCH_STATE",payload:t}),this.putCSS=function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";t.frame.postMessage({event:Y,payload:{css:e,id:i}}),t.patchState({previewData:{css:{[i]:e}}})},this.setTheme=t=>{this.frame.postMessage({event:X,payload:t}),this.patchState({previewData:{theme:t}})},this.getCSSVars=(t,e)=>{this.frame.one("R2L_GET_CSS_VARS_RESULT",(t=>e(t.payload))),this.frame.postMessage({event:"L2R_GET_CSS_VARS",payload:{keys:t}})})}_setupSegmentTracking(){const t=this.state.segmentToken;if(!t)return;const e=this.state.userData;["post-view","post-linkclick","post-reaction","post-feedback","booster-click","booster-show"].forEach((i=>{return this.on(i,(s=i,function(i){const n={method:"track",event_name:s,event_properties:i};e&&(n.user={id:e.$id}),fetch(`/api/segment/${t}`,{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}}).catch((t=>console.log("segment error",t)))}));var s}))}}function Ot(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function Et(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Ot(Object(i),!0).forEach((function(e){s(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Ot(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var Tt=0;class Pt extends o{get version(){return 2}constructor(t){super(),s(this,"widgets",void 0),s(this,"boosters",new et(this)),s(this,"log",void 0),s(this,"loaded",void 0),this.widgets=[],this.log=[],t.queue&&t.queue.forEach&&t.queue.forEach((t=>{Array.isArray(t)?this.on(t[0],t[1]):this.push(t)})),this.loaded=!0,setTimeout((()=>{this.trigger("init",this)}),10),this.on("widget-destroy",(t=>{let{widget:e}=t;this.widgets=this.widgets.filter((t=>t.conf._id!==e.conf._id)),this.log=this.log.filter((t=>!t.push||t.push._id!==e.conf._id)),e.conf.name&&this[`widget$${e.conf.name}`]==e&&delete this[`widget$${e.conf.name}`]}))}push(t){this.log.push(t),function(t){return!!t.widget}(t)&&this._pushWidget(t)}debug(){return this.widgets.map((t=>{const e=t.conf,i=t.frame.state;let s;return"string"==typeof e.selector?s=document.querySelector(e.selector):"object"==typeof e.selector&&(s=e.selector),{id:e.widget,projectId:i.project.id,conf:e,widgetType:i.widget.action,launcherType:i.widget.mode,isElementPlaced:s?.isConnected,isDestroyed:t.destroyed,unreadCount:i.ui?.unreadCount,totalPosts:i.posts.length,planHasUserTracking:i.project.plan_has_user_tracking,receivedUserId:i.userData?.$id,segmentationEnabled:i.project.plan_has_segmentation&&Ft(e),hasBarBooster:!!i.boosterPosts?.bar,hasModalBooster:!!i.boosterPosts?.modal,hasOverlayBooster:!!i.boosterPosts?.overlay}}))}_pushWidget(t){t._id=Tt++;for(let e=0;e<this.log.length;e++){let i=this.log[e];if(i.push&&n(Et(Et({},i.push),{},{_id:null}),Et(Et({},t),{},{_id:null})))return}const e=new Q(t);let i;function s(t){return`${t.widget}|${t.selector}`}i=t.embed?h(t.selector):t.root?h(t.root):document.body,i?(this.log.push({push:t}),e.insert(i),e.one("BOOTSTRAP",(i=>{let n;for(let i=0;i<this.widgets.length;i++){let n=this.widgets[i];if(s(n.conf)===s(t)){if(!(n.conf._id<t._id))return e.destroy();n.destroy()}}n=new Ct(this,e,t),n&&(this.widgets.push(n),t.name&&(this[`widget$${t.name}`]=n),setTimeout((()=>{n._init()}),10))}))):setTimeout((()=>{this._pushWidget(t)}),1e3)}}function Ft(t){return!!t.data}let Lt;Lt=window.announcekit?window.announcekit.loaded?window.announcekit:new Pt(window.announcekit):new Pt({});const Nt=Lt},1223:(t,e,i)=>{var s=i(5112)("unscopables"),n=i(30),o=i(5185),r=Array.prototype;null==r[s]&&o(r,s,n(null)),t.exports=function(t){r[s][t]=!0}},9670:(t,e,i)=>{var s=i(111);t.exports=function(t){if(!s(t))throw TypeError(String(t)+" is not an object");return t}},1318:(t,e,i)=>{var s=i(5656),n=i(7466),o=i(1400);t.exports=function(t){return function(e,i,r){var a,d=s(e),l=n(d.length),h=o(r,l);if(t&&i!=i){for(;l>h;)if((a=d[h++])!=a)return!0}else for(;l>h;h++)if((t||h in d)&&d[h]===i)return t||h||0;return!t&&-1}}},4326:t=>{var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},9920:(t,e,i)=>{var s=i(6656),n=i(3887),o=i(1236),r=i(3070);t.exports=function(t,e){for(var i=n(e),a=r.f,d=o.f,l=0;l<i.length;l++){var h=i[l];s(t,h)||a(t,h,d(e,h))}}},9114:t=>{t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},9781:(t,e,i)=>{t.exports=!i(7293)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},317:(t,e,i)=>{var s=i(111),n=i(7854).document,o=s(n)&&s(n.createElement);t.exports=function(t){return o?n.createElement(t):{}}},748:t=>{t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:(t,e,i)=>{var s=i(7854),n=i(1236).f,o=i(5185),r=i(1320),a=i(3505),d=i(9920),l=i(4705);t.exports=function(t,e){var i,h,c,p,u,g=t.target,m=t.global,b=t.stat;if(i=m?s:b?s[g]||a(g,{}):(s[g]||{}).prototype)for(h in e){if(p=e[h],c=t.noTargetGet?(u=n(i,h))&&u.value:i[h],!l(m?h:g+(b?".":"#")+h,t.forced)&&void 0!==c){if(typeof p==typeof c)continue;d(p,c)}(t.sham||c&&c.sham)&&o(p,"sham",!0),r(i,h,p,t)}}},7293:t=>{t.exports=function(t){try{return!!t()}catch(t){return!0}}},2521:(t,e,i)=>{t.exports=i(2309)("native-function-to-string",Function.toString)},7854:t=>{t.exports="object"==typeof window&&window&&window.Math==Math?window:"object"==typeof self&&self&&self.Math==Math?self:Function("return this")()},6656:t=>{var e={}.hasOwnProperty;t.exports=function(t,i){return e.call(t,i)}},3501:t=>{t.exports={}},5185:(t,e,i)=>{var s=i(3070),n=i(9114);t.exports=i(9781)?function(t,e,i){return s.f(t,e,n(1,i))}:function(t,e,i){return t[e]=i,t}},490:(t,e,i)=>{var s=i(7854).document;t.exports=s&&s.documentElement},4664:(t,e,i)=>{t.exports=!i(9781)&&!i(7293)((function(){return 7!=Object.defineProperty(i(317)("div"),"a",{get:function(){return 7}}).a}))},8361:(t,e,i)=>{var s=i(7293),n=i(4326),o="".split;t.exports=s((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==n(t)?o.call(t,""):Object(t)}:Object},9909:(t,e,i)=>{var s,n,o,r=i(8536),a=i(111),d=i(5185),l=i(6656),h=i(6200),c=i(3501),p=i(7854).WeakMap;if(r){var u=new p,g=u.get,m=u.has,b=u.set;s=function(t,e){return b.call(u,t,e),e},n=function(t){return g.call(u,t)||{}},o=function(t){return m.call(u,t)}}else{var f=h("state");c[f]=!0,s=function(t,e){return d(t,f,e),e},n=function(t){return l(t,f)?t[f]:{}},o=function(t){return l(t,f)}}t.exports={set:s,get:n,has:o,enforce:function(t){return o(t)?n(t):s(t,{})},getterFor:function(t){return function(e){var i;if(!a(e)||(i=n(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return i}}}},4705:(t,e,i)=>{var s=i(7293),n=/#|\.prototype\./,o=function(t,e){var i=a[r(t)];return i==l||i!=d&&("function"==typeof e?s(e):!!e)},r=o.normalize=function(t){return String(t).replace(n,".").toLowerCase()},a=o.data={},d=o.NATIVE="N",l=o.POLYFILL="P";t.exports=o},111:t=>{t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},1913:t=>{t.exports=!1},133:(t,e,i)=>{t.exports=!i(7293)((function(){String(Symbol())}))},8536:(t,e,i)=>{var s=i(2521),n=i(7854).WeakMap;t.exports="function"==typeof n&&/native code/.test(s.call(n))},30:(t,e,i)=>{var s=i(9670),n=i(6048),o=i(748),r=i(490),a=i(317),d=i(6200)("IE_PROTO"),l="prototype",h=function(){},c=function(){var t,e=a("iframe"),i=o.length,s="script",n="java"+s+":";for(e.style.display="none",r.appendChild(e),e.src=String(n),(t=e.contentWindow.document).open(),t.write("<"+s+">document.F=Object</"+s+">"),t.close(),c=t.F;i--;)delete c[l][o[i]];return c()};t.exports=Object.create||function(t,e){var i;return null!==t?(h[l]=s(t),i=new h,h[l]=null,i[d]=t):i=c(),void 0===e?i:n(i,e)},i(3501)[d]=!0},6048:(t,e,i)=>{var s=i(9781),n=i(3070),o=i(9670),r=i(1956);t.exports=s?Object.defineProperties:function(t,e){o(t);for(var i,s=r(e),a=s.length,d=0;a>d;)n.f(t,i=s[d++],e[i]);return t}},3070:(t,e,i)=>{var s=i(9781),n=i(4664),o=i(9670),r=i(7593),a=Object.defineProperty;e.f=s?a:function(t,e,i){if(o(t),e=r(e,!0),o(i),n)try{return a(t,e,i)}catch(t){}if("get"in i||"set"in i)throw TypeError("Accessors not supported");return"value"in i&&(t[e]=i.value),t}},1236:(t,e,i)=>{var s=i(9781),n=i(5296),o=i(9114),r=i(5656),a=i(7593),d=i(6656),l=i(4664),h=Object.getOwnPropertyDescriptor;e.f=s?h:function(t,e){if(t=r(t),e=a(e,!0),l)try{return h(t,e)}catch(t){}if(d(t,e))return o(!n.f.call(t,e),t[e])}},8006:(t,e,i)=>{var s=i(6324),n=i(748).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return s(t,n)}},5181:(t,e)=>{e.f=Object.getOwnPropertySymbols},6324:(t,e,i)=>{var s=i(6656),n=i(5656),o=i(1318)(!1),r=i(3501);t.exports=function(t,e){var i,a=n(t),d=0,l=[];for(i in a)!s(r,i)&&s(a,i)&&l.push(i);for(;e.length>d;)s(a,i=e[d++])&&(~o(l,i)||l.push(i));return l}},1956:(t,e,i)=>{var s=i(6324),n=i(748);t.exports=Object.keys||function(t){return s(t,n)}},5296:(t,e)=>{"use strict";var i={}.propertyIsEnumerable,s=Object.getOwnPropertyDescriptor,n=s&&!i.call({1:2},1);e.f=n?function(t){var e=s(this,t);return!!e&&e.enumerable}:i},3887:(t,e,i)=>{var s=i(8006),n=i(5181),o=i(9670),r=i(7854).Reflect;t.exports=r&&r.ownKeys||function(t){var e=s.f(o(t)),i=n.f;return i?e.concat(i(t)):e}},1320:(t,e,i)=>{var s=i(7854),n=i(5185),o=i(6656),r=i(3505),a=i(2521),d=i(9909),l=d.get,h=d.enforce,c=String(a).split("toString");i(2309)("inspectSource",(function(t){return a.call(t)})),(t.exports=function(t,e,i,a){var d=!!a&&!!a.unsafe,l=!!a&&!!a.enumerable,p=!!a&&!!a.noTargetGet;"function"==typeof i&&("string"!=typeof e||o(i,"name")||n(i,"name",e),h(i).source=c.join("string"==typeof e?e:"")),t!==s?(d?!p&&t[e]&&(l=!0):delete t[e],l?t[e]=i:n(t,e,i)):l?t[e]=i:r(e,i)})(Function.prototype,"toString",(function(){return"function"==typeof this&&l(this).source||a.call(this)}))},4488:t=>{t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},3505:(t,e,i)=>{var s=i(7854),n=i(5185);t.exports=function(t,e){try{n(s,t,e)}catch(i){s[t]=e}return e}},6200:(t,e,i)=>{var s=i(2309)("keys"),n=i(9711);t.exports=function(t){return s[t]||(s[t]=n(t))}},2309:(t,e,i)=>{var s=i(7854),n=i(3505),o="__core-js_shared__",r=s[o]||n(o,{});(t.exports=function(t,e){return r[t]||(r[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.0.0",mode:i(1913)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},1400:(t,e,i)=>{var s=i(9958),n=Math.max,o=Math.min;t.exports=function(t,e){var i=s(t);return i<0?n(i+e,0):o(i,e)}},5656:(t,e,i)=>{var s=i(8361),n=i(4488);t.exports=function(t){return s(n(t))}},9958:t=>{var e=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:e)(t)}},7466:(t,e,i)=>{var s=i(9958),n=Math.min;t.exports=function(t){return t>0?n(s(t),9007199254740991):0}},7593:(t,e,i)=>{var s=i(111);t.exports=function(t,e){if(!s(t))return t;var i,n;if(e&&"function"==typeof(i=t.toString)&&!s(n=i.call(t)))return n;if("function"==typeof(i=t.valueOf)&&!s(n=i.call(t)))return n;if(!e&&"function"==typeof(i=t.toString)&&!s(n=i.call(t)))return n;throw TypeError("Can't convert object to primitive value")}},9711:t=>{var e=0,i=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++e+i).toString(36))}},5112:(t,e,i)=>{var s=i(2309)("wks"),n=i(9711),o=i(7854).Symbol,r=i(133);t.exports=function(t){return s[t]||(s[t]=r&&o[t]||(r?o:n)("Symbol."+t))}},6699:(t,e,i)=>{"use strict";var s=i(1318)(!0);i(2109)({target:"Array",proto:!0},{includes:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}}),i(1223)("includes")},6774:t=>{t.exports=function(t,e,i,s){var n=i?i.call(s,t,e):void 0;if(void 0!==n)return!!n;if(t===e)return!0;if("object"!=typeof t||!t||"object"!=typeof e||!e)return!1;var o=Object.keys(t),r=Object.keys(e);if(o.length!==r.length)return!1;for(var a=Object.prototype.hasOwnProperty.bind(e),d=0;d<o.length;d++){var l=o[d];if(!a(l))return!1;var h=t[l],c=e[l];if(!1===(n=i?i.call(s,h,c,l):void 0)||void 0===n&&h!==c)return!1}return!0}}},e={};function i(s){if(e[s])return e[s].exports;var n=e[s]={exports:{}};return t[s](n,n.exports,i),n.exports}return i.d=(t,e)=>{for(var s in e)i.o(e,s)&&!i.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i(1244)})().default;